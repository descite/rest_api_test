<!DOCTYPE html>
<html>
  <head>
  <meta charset='UTF-8'>
  <title>Glia JS SDK Documentation</title>
  <meta name='viewport' content='width=device-width initial-scale=1.0'>
  <script src='../javascript/application.js'></script>
  <script src='../javascript/search.js'></script>
  <link rel='stylesheet' href='../stylesheets/application.css' type='text/css'>
</head>
  <body>
    <div id='sidebar'>
  <div id='sidebar_content'>
    <h1 class='class_list toggled visible'>Class List</h1>
    <h1 class='method_list toggled'>      Method List</h1>
    <h1 class='extra_list toggled'>       Extra List</h1>
    <h1 class='mixin_list toggled'>       Mixin List</h1>
    <nav>
      <a onclick='openClassList();'>
        Classes
      </a>
      <a onclick='openMethodList();'>
        Methods
      </a>
      <a onclick='openExtraList();'>
        Extras
      </a>
    </nav>
    <div id='search'>
      Search:
      <input type='text'>
    </div>
    <div class='class_list list toggled tree visible'>
      <ul>
  <li>
    <a href='../class/AuthenticationRequest.html'>
      AuthenticationRequest
    </a>
    <small class='namespace'>
      
    </small>
  </li>
  <li>
    <a href='../class/ChatController.html'>
      ChatController
    </a>
    <small class='namespace'>
      
    </small>
  </li>
  <li>
    <a href='../class/OperatorMessage.html'>
      OperatorMessage
    </a>
    <small class='namespace'>
      
    </small>
  </li>
  <li>
    <a href='../class/OperatorTypingStatus.html'>
      OperatorTypingStatus
    </a>
    <small class='namespace'>
      
    </small>
  </li>
  <li>
    <a href='../class/VisitorMessage.html'>
      VisitorMessage
    </a>
    <small class='namespace'>
      
    </small>
  </li>
  <li>
    <a href='../class/Chat.html'>
      Chat
    </a>
    <small class='namespace'>
      
    </small>
  </li>
  <li>
    <a href='../class/Cobrowser.html'>
      Cobrowser
    </a>
    <small class='namespace'>
      
    </small>
  </li>
  <li>
    <a href='../class/CobrowsingState.html'>
      CobrowsingState
    </a>
    <small class='namespace'>
      
    </small>
  </li>
  <li>
    <a href='../class/CobrowsingSession.html'>
      CobrowsingSession
    </a>
    <small class='namespace'>
      
    </small>
  </li>
  <li>
    <a href='../class/CobrowsingRequest.html'>
      CobrowsingRequest
    </a>
    <small class='namespace'>
      
    </small>
  </li>
  <li>
    <a href='../class/Config.html'>
      Config
    </a>
    <small class='namespace'>
      
    </small>
  </li>
  <li>
    <a href='../class/SiteLogo.html'>
      SiteLogo
    </a>
    <small class='namespace'>
      
    </small>
  </li>
  <li>
    <a href='../class/ReactiveTabVisuals.html'>
      ReactiveTabVisuals
    </a>
    <small class='namespace'>
      
    </small>
  </li>
  <li>
    <a href='../class/ConnectionStatus.html'>
      ConnectionStatus
    </a>
    <small class='namespace'>
      
    </small>
  </li>
  <li>
    <a href='../class/LocalQueue.html'>
      LocalQueue
    </a>
    <small class='namespace'>
      
    </small>
  </li>
  <li>
    <a href='../class/CustomCommand.html'>
      CustomCommand
    </a>
    <small class='namespace'>
      
    </small>
  </li>
  <li>
    <a href='../class/EngagementFile.html'>
      EngagementFile
    </a>
    <small class='namespace'>
      
    </small>
  </li>
  <li>
    <a href='../class/Engagement.html'>
      Engagement
    </a>
    <small class='namespace'>
      
    </small>
  </li>
  <li>
    <a href='../class/IframedPage.html'>
      IframedPage
    </a>
    <small class='namespace'>
      
    </small>
  </li>
  <li>
    <a href='../class/MediaPermission.html'>
      MediaPermission
    </a>
    <small class='namespace'>
      
    </small>
  </li>
  <li>
    <a href='../class/EngagementState.html'>
      EngagementState
    </a>
    <small class='namespace'>
      
    </small>
  </li>
  <li>
    <a href='../class/EngagementRequest.html'>
      EngagementRequest
    </a>
    <small class='namespace'>
      
    </small>
  </li>
  <li>
    <a href='../class/Error.html'>
      Error
    </a>
    <small class='namespace'>
      
    </small>
  </li>
  <li>
    <a href='../class/IncomingEngagementRequest.html'>
      IncomingEngagementRequest
    </a>
    <small class='namespace'>
      
    </small>
  </li>
  <li>
    <a href='../class/VisitController.html'>
      VisitController
    </a>
    <small class='namespace'>
      
    </small>
  </li>
  <li>
    <a href='../class/MediaState.html'>
      MediaState
    </a>
    <small class='namespace'>
      
    </small>
  </li>
  <li>
    <a href='../class/MediaUpgradeOffer.html'>
      MediaUpgradeOffer
    </a>
    <small class='namespace'>
      
    </small>
  </li>
  <li>
    <a href='../class/VisitorCode.html'>
      VisitorCode
    </a>
    <small class='namespace'>
      
    </small>
  </li>
  <li>
    <a href='../class/Omnibrowse.html'>
      Omnibrowse
    </a>
    <small class='namespace'>
      
    </small>
  </li>
  <li>
    <a href='../class/Omnicall.html'>
      Omnicall
    </a>
    <small class='namespace'>
      
    </small>
  </li>
  <li>
    <a href='../class/Operator.html'>
      Operator
    </a>
    <small class='namespace'>
      
    </small>
  </li>
  <li>
    <a href='../class/Overseer.html'>
      Overseer
    </a>
    <small class='namespace'>
      
    </small>
  </li>
  <li>
    <a href='../class/ReactiveCalloutStart.html'>
      ReactiveCalloutStart
    </a>
    <small class='namespace'>
      
    </small>
  </li>
  <li>
    <a href='../class/ReactiveExpand.html'>
      ReactiveExpand
    </a>
    <small class='namespace'>
      
    </small>
  </li>
  <li>
    <a href='../class/ReactivePosition.html'>
      ReactivePosition
    </a>
    <small class='namespace'>
      
    </small>
  </li>
  <li>
    <a href='../class/MediaSelectionStart.html'>
      MediaSelectionStart
    </a>
    <small class='namespace'>
      
    </small>
  </li>
  <li>
    <a href='../class/EngagementInvitationShow.html'>
      EngagementInvitationShow
    </a>
    <small class='namespace'>
      
    </small>
  </li>
  <li>
    <a href='../class/AggregateQueueState.html'>
      AggregateQueueState
    </a>
    <small class='namespace'>
      
    </small>
  </li>
  <li>
    <a href='../class/AlreadyQueuedError.html'>
      AlreadyQueuedError
    </a>
    <small class='parent'>
      <
      Error
    </small>
    <small class='namespace'>
      
    </small>
  </li>
  <li>
    <a href='../class/Queue.html'>
      Queue
    </a>
    <small class='namespace'>
      
    </small>
  </li>
  <li>
    <a href='../class/QueueState.html'>
      QueueState
    </a>
    <small class='namespace'>
      
    </small>
  </li>
  <li>
    <a href='../class/QueueTicket.html'>
      QueueTicket
    </a>
    <small class='namespace'>
      
    </small>
  </li>
  <li>
    <a href='../class/QueueWaitDuration.html'>
      QueueWaitDuration
    </a>
    <small class='namespace'>
      
    </small>
  </li>
  <li>
    <a href='../class/Salemove.html'>
      Salemove
    </a>
    <small class='namespace'>
      
    </small>
  </li>
  <li>
    <a href='../class/LegacySurvey.html'>
      LegacySurvey
    </a>
    <small class='namespace'>
      
    </small>
  </li>
  <li>
    <a href='../class/LegacySurveyQuestion.html'>
      LegacySurveyQuestion
    </a>
    <small class='namespace'>
      
    </small>
  </li>
  <li>
    <a href='../class/LegacySurveyChoice.html'>
      LegacySurveyChoice
    </a>
    <small class='namespace'>
      
    </small>
  </li>
  <li>
    <a href='../class/Survey.html'>
      Survey
    </a>
    <small class='namespace'>
      
    </small>
  </li>
  <li>
    <a href='../class/SurveyQuestion.html'>
      SurveyQuestion
    </a>
    <small class='namespace'>
      
    </small>
  </li>
  <li>
    <a href='../class/SurveyChoice.html'>
      SurveyChoice
    </a>
    <small class='namespace'>
      
    </small>
  </li>
  <li>
    <a href='../class/VisitorApp.html'>
      VisitorApp
    </a>
    <small class='namespace'>
      
    </small>
  </li>
  <li>
    <a href='../class/VisitorStatus.html'>
      VisitorStatus
    </a>
    <small class='namespace'>
      
    </small>
  </li>
  <li>
    <a href='../class/WidgetMediaUpgradeRequest.html'>
      WidgetMediaUpgradeRequest
    </a>
    <small class='namespace'>
      
    </small>
  </li>
</ul>

    </div>
    <div class='list mixin_list toggled tree'>
      <ul>
</ul>

    </div>
    <div class='extra_list list toggled tree'>
      <ul>
  <li>
    <a href='../extra/README.md.html'>
      README.md
    </a>
  </li>
  <li>
    <a href='../extra/glossary.md.html'>
      glossary.md
    </a>
  </li>
  <li>
    <a href='../extra/widgets.md.html'>
      widgets.md
    </a>
  </li>
</ul>

    </div>
    <div class='list method_list toggled'>
      <ul>
  <li>
    <a href='../class/VisitController.html#_addListeners-dynamic' title='_addListeners'>
      #_addListeners
    </a>
    <small>
      (VisitController)
    </small>
  </li>
  <li>
    <a href='../class/ChatController.html#_filterSensitiveContent-dynamic' title='_filterSensitiveContent'>
      #_filterSensitiveContent
    </a>
    <small>
      (ChatController)
    </small>
  </li>
  <li>
    <a href='../class/ChatController.html#_maskContent-dynamic' title='_maskContent'>
      #_maskContent
    </a>
    <small>
      (ChatController)
    </small>
  </li>
  <li>
    <a href='../class/ChatController.html#_maskDigits-dynamic' title='_maskDigits'>
      #_maskDigits
    </a>
    <small>
      (ChatController)
    </small>
  </li>
  <li>
    <a href='../class/ChatController.html#_maskPreview-dynamic' title='_maskPreview'>
      #_maskPreview
    </a>
    <small>
      (ChatController)
    </small>
  </li>
  <li>
    <a href='../class/LocalQueue.html#_persist-dynamic' title='_persist'>
      #_persist
    </a>
    <small>
      (LocalQueue)
    </small>
  </li>
  <li>
    <a href='../class/VisitController.html#_receivePostMessage-dynamic' title='_receivePostMessage'>
      #_receivePostMessage
    </a>
    <small>
      (VisitController)
    </small>
  </li>
  <li>
    <a href='../class/VisitController.html#_restoreLastUrl-dynamic' title='_restoreLastUrl'>
      #_restoreLastUrl
    </a>
    <small>
      (VisitController)
    </small>
  </li>
  <li>
    <a href='../class/IncomingEngagementRequest.html#accept-dynamic' title='accept'>
      #accept
    </a>
    <small>
      (IncomingEngagementRequest)
    </small>
  </li>
  <li>
    <a href='../class/LocalQueue.html#add-dynamic' title='add'>
      #add
    </a>
    <small>
      (LocalQueue)
    </small>
  </li>
  <li>
    <a href='../class/Cobrowser.html#addBufferedEventListener-dynamic' title='addBufferedEventListener'>
      #addBufferedEventListener
    </a>
    <small>
      (Cobrowser)
    </small>
  </li>
  <li>
    <a href='../class/Overseer.html#addBufferedEventListener-dynamic' title='addBufferedEventListener'>
      #addBufferedEventListener
    </a>
    <small>
      (Overseer)
    </small>
  </li>
  <li>
    <a href='../class/Chat.html#addEventListener-dynamic' title='addEventListener'>
      #addEventListener
    </a>
    <small>
      (Chat)
    </small>
  </li>
  <li>
    <a href='../class/Engagement.html#addEventListener-dynamic' title='addEventListener'>
      #addEventListener
    </a>
    <small>
      (Engagement)
    </small>
  </li>
  <li>
    <a href='../class/Omnicall.html#addEventListener-dynamic' title='addEventListener'>
      #addEventListener
    </a>
    <small>
      (Omnicall)
    </small>
  </li>
  <li>
    <a href='../class/Salemove.html#addEventListener-dynamic' title='addEventListener'>
      #addEventListener
    </a>
    <small>
      (Salemove)
    </small>
  </li>
  <li>
    <a href='../class/Cobrowser.html#addUnbufferedEventListener-dynamic' title='addUnbufferedEventListener'>
      #addUnbufferedEventListener
    </a>
    <small>
      (Cobrowser)
    </small>
  </li>
  <li>
    <a href='../class/Overseer.html#addUnbufferedEventListener-dynamic' title='addUnbufferedEventListener'>
      #addUnbufferedEventListener
    </a>
    <small>
      (Overseer)
    </small>
  </li>
  <li>
    <a href='../class/CobrowsingRequest.html#allow-dynamic' title='allow'>
      #allow
    </a>
    <small>
      (CobrowsingRequest)
    </small>
  </li>
  <li>
    <a href='../class/Survey.html#answer-dynamic' title='answer'>
      #answer
    </a>
    <small>
      (Survey)
    </small>
  </li>
  <li>
    <a href='../class/LocalQueue.html#asArray-dynamic' title='asArray'>
      #asArray
    </a>
    <small>
      (LocalQueue)
    </small>
  </li>
  <li>
    <a href='../class/EngagementRequest.html#cancel-dynamic' title='cancel'>
      #cancel
    </a>
    <small>
      (EngagementRequest)
    </small>
  </li>
  <li>
    <a href='../class/QueueTicket.html#cancel-dynamic' title='cancel'>
      #cancel
    </a>
    <small>
      (QueueTicket)
    </small>
  </li>
  <li>
    <a href='../class/VisitController.html#capabilitiesRequestObservable-dynamic' title='capabilitiesRequestObservable'>
      #capabilitiesRequestObservable
    </a>
    <small>
      (VisitController)
    </small>
  </li>
  <li>
    <a href='../class/Salemove.html#changeElementAttributesForCobrowsing-dynamic' title='changeElementAttributesForCobrowsing'>
      #changeElementAttributesForCobrowsing
    </a>
    <small>
      (Salemove)
    </small>
  </li>
  <li>
    <a href='../class/ChatController.html#constructor-dynamic' title='constructor'>
      #constructor
    </a>
    <small>
      (ChatController)
    </small>
  </li>
  <li>
    <a href='../class/LocalQueue.html#constructor-dynamic' title='constructor'>
      #constructor
    </a>
    <small>
      (LocalQueue)
    </small>
  </li>
  <li>
    <a href='../class/EngagementFile.html#constructor-dynamic' title='constructor'>
      #constructor
    </a>
    <small>
      (EngagementFile)
    </small>
  </li>
  <li>
    <a href='../class/VisitController.html#constructor-dynamic' title='constructor'>
      #constructor
    </a>
    <small>
      (VisitController)
    </small>
  </li>
  <li>
    <a href='../class/AlreadyQueuedError.html#constructor-dynamic' title='constructor'>
      #constructor
    </a>
    <small>
      (AlreadyQueuedError)
    </small>
  </li>
  <li>
    <a href='../class/Queue.html#constructor-dynamic' title='constructor'>
      #constructor
    </a>
    <small>
      (Queue)
    </small>
  </li>
  <li>
    <a href='../class/QueueState.html#constructor-dynamic' title='constructor'>
      #constructor
    </a>
    <small>
      (QueueState)
    </small>
  </li>
  <li>
    <a href='../class/VisitorApp.html#constructor-dynamic' title='constructor'>
      #constructor
    </a>
    <small>
      (VisitorApp)
    </small>
  </li>
  <li>
    <a href='../class/IncomingEngagementRequest.html#create-static' title='create'>
      .create
    </a>
    <small>
      (IncomingEngagementRequest)
    </small>
  </li>
  <li>
    <a href='../class/Salemove.html#createAuthenticationRequest-dynamic' title='createAuthenticationRequest'>
      #createAuthenticationRequest
    </a>
    <small>
      (Salemove)
    </small>
  </li>
  <li>
    <a href='../class/AuthenticationRequest.html#decline-dynamic' title='decline'>
      #decline
    </a>
    <small>
      (AuthenticationRequest)
    </small>
  </li>
  <li>
    <a href='../class/CobrowsingRequest.html#decline-dynamic' title='decline'>
      #decline
    </a>
    <small>
      (CobrowsingRequest)
    </small>
  </li>
  <li>
    <a href='../class/IncomingEngagementRequest.html#decline-dynamic' title='decline'>
      #decline
    </a>
    <small>
      (IncomingEngagementRequest)
    </small>
  </li>
  <li>
    <a href='../class/MediaUpgradeOffer.html#decline-dynamic' title='decline'>
      #decline
    </a>
    <small>
      (MediaUpgradeOffer)
    </small>
  </li>
  <li>
    <a href='../class/IframedPage.html#deframe-dynamic' title='deframe'>
      #deframe
    </a>
    <small>
      (IframedPage)
    </small>
  </li>
  <li>
    <a href='../class/Engagement.html#end-dynamic' title='end'>
      #end
    </a>
    <small>
      (Engagement)
    </small>
  </li>
  <li>
    <a href='../class/Salemove.html#getBrowserContext-dynamic' title='getBrowserContext'>
      #getBrowserContext
    </a>
    <small>
      (Salemove)
    </small>
  </li>
  <li>
    <a href='../class/Salemove.html#getQueueWaitDuration-dynamic' title='getQueueWaitDuration'>
      #getQueueWaitDuration
    </a>
    <small>
      (Salemove)
    </small>
  </li>
  <li>
    <a href='../class/Salemove.html#getQueues-dynamic' title='getQueues'>
      #getQueues
    </a>
    <small>
      (Salemove)
    </small>
  </li>
  <li>
    <a href='../class/Salemove.html#getRequestHeaders-dynamic' title='getRequestHeaders'>
      #getRequestHeaders
    </a>
    <small>
      (Salemove)
    </small>
  </li>
  <li>
    <a href='../class/EngagementFile.html#getScanResult-dynamic' title='getScanResult'>
      #getScanResult
    </a>
    <small>
      (EngagementFile)
    </small>
  </li>
  <li>
    <a href='../class/Salemove.html#getSessionContext-dynamic' title='getSessionContext'>
      #getSessionContext
    </a>
    <small>
      (Salemove)
    </small>
  </li>
  <li>
    <a href='../class/Salemove.html#getSiteId-dynamic' title='getSiteId'>
      #getSiteId
    </a>
    <small>
      (Salemove)
    </small>
  </li>
  <li>
    <a href='../class/Engagement.html#getSurvey-dynamic' title='getSurvey'>
      #getSurvey
    </a>
    <small>
      (Engagement)
    </small>
  </li>
  <li>
    <a href='../class/Omnibrowse.html#getVisitorCode-dynamic' title='getVisitorCode'>
      #getVisitorCode
    </a>
    <small>
      (Omnibrowse)
    </small>
  </li>
  <li>
    <a href='../class/Salemove.html#getVisitorId-dynamic' title='getVisitorId'>
      #getVisitorId
    </a>
    <small>
      (Salemove)
    </small>
  </li>
  <li>
    <a href='../class/Engagement.html#iframePage-dynamic' title='iframePage'>
      #iframePage
    </a>
    <small>
      (Engagement)
    </small>
  </li>
  <li>
    <a href='../class/LocalQueue.html#includesItems-dynamic' title='includesItems'>
      #includesItems
    </a>
    <small>
      (LocalQueue)
    </small>
  </li>
  <li>
    <a href='../class/Salemove.html#isInEngagement-dynamic' title='isInEngagement'>
      #isInEngagement
    </a>
    <small>
      (Salemove)
    </small>
  </li>
  <li>
    <a href='../class/Salemove.html#leaveMessage-dynamic' title='leaveMessage'>
      #leaveMessage
    </a>
    <small>
      (Salemove)
    </small>
  </li>
  <li>
    <a href='../class/Salemove.html#leaveOperatorMessage-dynamic' title='leaveOperatorMessage'>
      #leaveOperatorMessage
    </a>
    <small>
      (Salemove)
    </small>
  </li>
  <li>
    <a href='../class/Engagement.html#notifyOfFocusChange-dynamic' title='notifyOfFocusChange'>
      #notifyOfFocusChange
    </a>
    <small>
      (Engagement)
    </small>
  </li>
  <li>
    <a href='../class/ChatController.html#observables-dynamic' title='observables'>
      #observables
    </a>
    <small>
      (ChatController)
    </small>
  </li>
  <li>
    <a href='../class/LocalQueue.html#purge-dynamic' title='purge'>
      #purge
    </a>
    <small>
      (LocalQueue)
    </small>
  </li>
  <li>
    <a href='../class/Salemove.html#queueForEngagement-dynamic' title='queueForEngagement'>
      #queueForEngagement
    </a>
    <small>
      (Salemove)
    </small>
  </li>
  <li>
    <a href='../class/Engagement.html#recordEvent-dynamic' title='recordEvent'>
      #recordEvent
    </a>
    <small>
      (Engagement)
    </small>
  </li>
  <li>
    <a href='../class/Cobrowser.html#removeBufferedEventListener-dynamic' title='removeBufferedEventListener'>
      #removeBufferedEventListener
    </a>
    <small>
      (Cobrowser)
    </small>
  </li>
  <li>
    <a href='../class/Overseer.html#removeBufferedEventListener-dynamic' title='removeBufferedEventListener'>
      #removeBufferedEventListener
    </a>
    <small>
      (Overseer)
    </small>
  </li>
  <li>
    <a href='../class/Chat.html#removeEventListener-dynamic' title='removeEventListener'>
      #removeEventListener
    </a>
    <small>
      (Chat)
    </small>
  </li>
  <li>
    <a href='../class/Engagement.html#removeEventListener-dynamic' title='removeEventListener'>
      #removeEventListener
    </a>
    <small>
      (Engagement)
    </small>
  </li>
  <li>
    <a href='../class/Omnicall.html#removeEventListener-dynamic' title='removeEventListener'>
      #removeEventListener
    </a>
    <small>
      (Omnicall)
    </small>
  </li>
  <li>
    <a href='../class/Salemove.html#removeEventListener-dynamic' title='removeEventListener'>
      #removeEventListener
    </a>
    <small>
      (Salemove)
    </small>
  </li>
  <li>
    <a href='../class/LocalQueue.html#removeTop-dynamic' title='removeTop'>
      #removeTop
    </a>
    <small>
      (LocalQueue)
    </small>
  </li>
  <li>
    <a href='../class/Cobrowser.html#removeUnbufferedEventListener-dynamic' title='removeUnbufferedEventListener'>
      #removeUnbufferedEventListener
    </a>
    <small>
      (Cobrowser)
    </small>
  </li>
  <li>
    <a href='../class/Overseer.html#removeUnbufferedEventListener-dynamic' title='removeUnbufferedEventListener'>
      #removeUnbufferedEventListener
    </a>
    <small>
      (Overseer)
    </small>
  </li>
  <li>
    <a href='../class/Salemove.html#requestAsset-dynamic' title='requestAsset'>
      #requestAsset
    </a>
    <small>
      (Salemove)
    </small>
  </li>
  <li>
    <a href='../class/Salemove.html#requestEngagement-dynamic' title='requestEngagement'>
      #requestEngagement
    </a>
    <small>
      (Salemove)
    </small>
  </li>
  <li>
    <a href='../class/LegacySurvey.html#respond-dynamic' title='respond'>
      #respond
    </a>
    <small>
      (LegacySurvey)
    </small>
  </li>
  <li>
    <a href='../class/MediaUpgradeOffer.html#select-dynamic' title='select'>
      #select
    </a>
    <small>
      (MediaUpgradeOffer)
    </small>
  </li>
  <li>
    <a href='../class/IncomingEngagementRequest.html#selectMedia-dynamic' title='selectMedia'>
      #selectMedia
    </a>
    <small>
      (IncomingEngagementRequest)
    </small>
  </li>
  <li>
    <a href='../class/ChatController.html#sendMessage-dynamic' title='sendMessage'>
      #sendMessage
    </a>
    <small>
      (ChatController)
    </small>
  </li>
  <li>
    <a href='../class/Chat.html#sendMessage-dynamic' title='sendMessage'>
      #sendMessage
    </a>
    <small>
      (Chat)
    </small>
  </li>
  <li>
    <a href='../class/ChatController.html#sendMessagePreview-dynamic' title='sendMessagePreview'>
      #sendMessagePreview
    </a>
    <small>
      (ChatController)
    </small>
  </li>
  <li>
    <a href='../class/Chat.html#sendMessagePreview-dynamic' title='sendMessagePreview'>
      #sendMessagePreview
    </a>
    <small>
      (Chat)
    </small>
  </li>
  <li>
    <a href='../class/VisitorApp.html#setChatMessageRenderer-dynamic' title='setChatMessageRenderer'>
      #setChatMessageRenderer
    </a>
    <small>
      (VisitorApp)
    </small>
  </li>
  <li>
    <a href='../class/Omnibrowse.html#setEngagementReestablishHandler-dynamic' title='setEngagementReestablishHandler'>
      #setEngagementReestablishHandler
    </a>
    <small>
      (Omnibrowse)
    </small>
  </li>
  <li>
    <a href='../class/Salemove.html#setEngagementReestablishHandler-dynamic' title='setEngagementReestablishHandler'>
      #setEngagementReestablishHandler
    </a>
    <small>
      (Salemove)
    </small>
  </li>
  <li>
    <a href='../class/Omnibrowse.html#setIncomingEngagementRequestHandler-dynamic' title='setIncomingEngagementRequestHandler'>
      #setIncomingEngagementRequestHandler
    </a>
    <small>
      (Omnibrowse)
    </small>
  </li>
  <li>
    <a href='../class/Salemove.html#setIncomingEngagementRequestHandler-dynamic' title='setIncomingEngagementRequestHandler'>
      #setIncomingEngagementRequestHandler
    </a>
    <small>
      (Salemove)
    </small>
  </li>
  <li>
    <a href='../class/Salemove.html#setLocale-dynamic' title='setLocale'>
      #setLocale
    </a>
    <small>
      (Salemove)
    </small>
  </li>
  <li>
    <a href='../class/Salemove.html#setupContactOperatorButton-dynamic' title='setupContactOperatorButton'>
      #setupContactOperatorButton
    </a>
    <small>
      (Salemove)
    </small>
  </li>
  <li>
    <a href='../class/VisitController.html#start-dynamic' title='start'>
      #start
    </a>
    <small>
      (VisitController)
    </small>
  </li>
  <li>
    <a href='../class/ChatController.html#stop-dynamic' title='stop'>
      #stop
    </a>
    <small>
      (ChatController)
    </small>
  </li>
  <li>
    <a href='../class/CobrowsingSession.html#stop-dynamic' title='stop'>
      #stop
    </a>
    <small>
      (CobrowsingSession)
    </small>
  </li>
  <li>
    <a href='../class/Salemove.html#subscribeToQueueStateUpdates-dynamic' title='subscribeToQueueStateUpdates'>
      #subscribeToQueueStateUpdates
    </a>
    <small>
      (Salemove)
    </small>
  </li>
  <li>
    <a href='../class/LocalQueue.html#top-dynamic' title='top'>
      #top
    </a>
    <small>
      (LocalQueue)
    </small>
  </li>
  <li>
    <a href='../class/VisitorApp.html#triggerQueueMediaSelection-dynamic' title='triggerQueueMediaSelection'>
      #triggerQueueMediaSelection
    </a>
    <small>
      (VisitorApp)
    </small>
  </li>
  <li>
    <a href='../class/Salemove.html#updateInformation-dynamic' title='updateInformation'>
      #updateInformation
    </a>
    <small>
      (Salemove)
    </small>
  </li>
  <li>
    <a href='../class/Engagement.html#upgrade-dynamic' title='upgrade'>
      #upgrade
    </a>
    <small>
      (Engagement)
    </small>
  </li>
  <li>
    <a href='../class/Engagement.html#uploadFile-dynamic' title='uploadFile'>
      #uploadFile
    </a>
    <small>
      (Engagement)
    </small>
  </li>
  <li>
    <a href='../class/Salemove.html#willNavigate-dynamic' title='willNavigate'>
      #willNavigate
    </a>
    <small>
      (Salemove)
    </small>
  </li>
</ul>
    </div>
  </div>
</div>
    <div id='content_wrapper'>
      <div id='base' data-path='../'></div>
<div id='header'>
  <div id='menu'>
    <a href='../extra/README.md.html' title='Glia JS SDK'>
      Glia JS SDK
    </a>
    &raquo;
    <a href='../alphabetical_index.html' title='Index'>
      Index
    </a>
    &raquo;
    <span class='title'>Engagement</span>
  </div>
</div>
      <div id='content'>
        <h1>
          Class:
          Engagement
        </h1>
        <table class='box'>
        </table>
        <h2>Overview</h2>
        <div class='tags'>
  <div class='events'>
    <h3>Events:</h3>
    <div class='event' id='END-event'>
      <p class='signature'>
        END
      </p>
      <div class='docstring'>
  <p>Triggered when this engagement has ended.</p>
</div>
<div class='tags'>
</div>
    </div>
    <div class='event' id='MEDIA_UPGRADE_OFFER-event'>
      <p class='signature'>
        MEDIA_UPGRADE_OFFER
      </p>
      <div class='docstring'>
  <p>Triggered when the operator offers to the visitor the choice of upgrading
the engagement to a higher media. Until the offer has not been responded
to, neither the operator nor visitor media will change.</p><p>The event listener will be called with a <a href='../class/MediaUpgradeOffer.html'>MediaUpgradeOffer</a> instance.
See <a href='../class/MediaUpgradeOffer.html'>MediaUpgradeOffer</a> documentation for examples on how to implement a
listener for this event.</p>
</div>
<div class='tags'>
</div>
    </div>
    <div class='event' id='FOCUS-event'>
      <p class='signature'>
        FOCUS
      </p>
      <div class='docstring'>
  <p>Triggered when operator wants visitor to focus on certain part of the
application. The event listener will be called with one of
<a href='../class/Engagement.html#FOCUS_TARGETS-variable'>Engagement.FOCUS_TARGETS</a>:</p><ul>
<li>CHAT is used when operator wants the visitor to focus on chat area.</li>
<li>COBROWSER is used when the operator wants the visitor to focus on cobrowsing area.</li>
</ul>

</div>
<div class='tags'>
</div>
    </div>
    <div class='event' id='MEDIA_STATE_CHANGE-event'>
      <p class='signature'>
        MEDIA_STATE_CHANGE
      </p>
      <div class='docstring'>
  <p>Triggered when operator or visitor media state changes. The event
listener will be called with a <a href='../class/MediaState.html'>MediaState</a> instance.</p>
</div>
<div class='tags'>
</div>
    </div>
    <div class='event' id='COBROWSING_REQUEST-event'>
      <p class='signature'>
        COBROWSING_REQUEST
      </p>
      <div class='docstring'>
  <p><strong>Deprecated.</strong> Use <a href='../class/Cobrowser.html#addUnbufferedEventListener-dynamic'>Cobrowser#addUnbufferedEventListener</a> or
<a href='../class/Cobrowser.html#addBufferedEventListener-dynamic'>Cobrowser#addBufferedEventListener</a> with <a href="./Cobrowser.html#COBROWSING_REQUEST-event">Cobrowser.EVENTS.COBROWSING_REQUEST</a></p>
</div>
<div class='tags'>
</div>
    </div>
    <div class='event' id='STATE_CHANGE-event'>
      <p class='signature'>
        STATE_CHANGE
      </p>
      <div class='docstring'>
  <p>Triggered when state of the engagement changes. The event listener will
be called with an <a href='../class/EngagementState.html'>EngagementState</a> instance.</p><p>Triggered when an operator requests to CoBrowse with the visitor.
Accepting this request means that the operator can fill inputs, click
links etc in the visitor&#39;s stead. This event might be triggered multiple
times. Declining one request does not prevent further requests from being
sent by the operator. The event listener will be called with a
<a href='../class/CobrowsingRequest.html'>CobrowsingRequest</a> instance.</p>
</div>
<div class='tags'>
</div>
    </div>
    <div class='event' id='MEDIA_PERMISSION_REQUEST-event'>
      <p class='signature'>
        MEDIA_PERMISSION_REQUEST
      </p>
      <div class='docstring'>
  <p>Triggered when Glia platform requests access to visitor&#39;s media device.
For example, browser&#39;s default media permission prompt can sometimes be hard
to notice, so this event can be used to draw visitor&#39;s attention to browser&#39;s
media permission prompt.
The event listener will be called with a <a href='../class/MediaPermission.html'>MediaPermission</a> instance.</p>
</div>
<div class='tags'>
</div>
    </div>
    <div class='event' id='WIDGET_MEDIA_UPGRADE_REQUEST-event'>
      <p class='signature'>
        WIDGET_MEDIA_UPGRADE_REQUEST
      </p>
      <div class='docstring'>
  <p>Triggered when the visitor requests a media upgrade from the
<a href="../extra/widgets.md.html#engaged-visitor-widget"><code>sm-engaged-visitor</code> widget</a>.
As explained in the example below, additional information may be asked
from the visitor before continuing with the upgrade.</p><p>For example, during a <code>&#39;text&#39;</code> engagement the <em>microphone button</em>
is often used to allow upgrades to both <code>&#39;phone&#39;</code> and <code>&#39;audio&#39;</code> media.
When the visitor presses the <em>microphone button</em> this event will be triggered
with <code>&#39;audio&#39;</code> media and the application usually prompts the user to
decide whether they would like to use their phone or their computer&#39;s
microphone. If they select the phone option they are usually further
prompted to provide their phone number. Depending on the design of the
application, these prompts could come in the form of modal windows or
simple text fields and buttons next to the widget. Because of the large
number of interaction options the widget avoids forcing a specific
approach and instead allows the application to use any approach that
makes most sense in its context.</p><p>The event listener will be called with an
<a href='../class/WidgetMediaUpgradeRequest.html'>WidgetMediaUpgradeRequest</a> instance. See
<a href='../class/WidgetMediaUpgradeRequest.html'>its documentation</a> for examples
on how to implement a listener for this event.</p>
</div>
<div class='tags'>
</div>
    </div>
    <div class='event' id='CUSTOM_COMMAND-event'>
      <p class='signature'>
        CUSTOM_COMMAND
      </p>
      <div class='docstring'>
  <p>Triggered when custom command is triggered when <a href='https://developer.glia.com/omniguide/virtual-assistants'>virtual assistant</a>
receives <a href='https://developer.glia.com/omniguide/messages/custom-command'>custom command</a> response type or when the
<a href='https://developer.glia.com/engagements/custom-commands#send-custom-command'>send custom command endpoint</a> is called.
The event listener will be called with an instance of <a href='../class/CustomCommand.html'>CustomCommand</a>.</p>
  <div class='examples'>
    <h3>Examples:</h3>
    <h4>
      Add custom command event listener and access custom command properties
    </h4>
    <pre><code>sm.getApi({ version: &#39;v1&#39; }).then(function (salemove) {
   var customCommandEventListener = function (engagement) {
     engagement.addEventListener(engagement.EVENTS.CUSTOM_COMMAND, function (customCommand) {
       console.log(&#39;custom command properties&#39;, customCommand.properties);
     })
  }

  salemove.addEventListener(salemove.EVENTS.ENGAGEMENT_START, customCommandEventListener);
 });</code></pre>
  </div>
</div>
<div class='tags'>
</div>
    </div>
  </div>
</div>
        <h2>Property Summary</h2>
        <dl class='properties'>
          <dt id='engagementId-property'>
            <span class='signature'>
              (number)
              <b>
                engagementId
              </b>
            </span>
          </dt>
          <dd class='desc'>
            <p>
              <p>A unique identifier for the engagement.</p>
            </p>
          </dd>
          <dt id='chat-property'>
            <span class='signature'>
              (Chat)
              <b>
                chat
              </b>
            </span>
          </dt>
          <dd class='desc'>
            <p>
              <p><a href='../class/Chat.html'>Chat</a> instance connected to this engagement.</p>
            </p>
          </dd>
          <dt id='operator-property'>
            <span class='signature'>
              (Operator)
              <b>
                operator
              </b>
            </span>
          </dt>
          <dd class='desc'>
            <p>
              
            </p>
          </dd>
          <dt id='mediaState-property'>
            <span class='signature'>
              (MediaState)
              <b>
                mediaState
              </b>
            </span>
          </dt>
          <dd class='desc'>
            <p>
              <p>The current media used by the operator and the visitor.</p>
            </p>
          </dd>
          <dt id='cobrowser-property'>
            <span class='signature'>
              (Cobrowser)
              <b>
                cobrowser
              </b>
            </span>
          </dt>
          <dd class='desc'>
            <p>
              <p>An object with <a href='../class/Cobrowser.html'>Cobrowser</a> specific functionality.</p>
            </p>
          </dd>
          <dt id='isReestablishing-property'>
            <span class='signature'>
              (boolean)
              <b>
                isReestablishing
              </b>
            </span>
          </dt>
          <dd class='desc'>
            <p>
              <p>True if the engagement has been <a href="../extra/glossary.md.html#reestablishing">reestablished</a> false otherwise.</p>
            </p>
          </dd>
          <dt id='allowFileSending-property'>
            <span class='signature'>
              (boolean)
              <b>
                allowFileSending
              </b>
            </span>
          </dt>
          <dd class='desc'>
            <p>
              <p>Whether visitor can upload and send files.</p>
            </p>
          </dd>
          <dt id='allowedFileContentTypes-property'>
            <span class='signature'>
              (boolean)
              <b>
                allowedFileContentTypes
              </b>
            </span>
          </dt>
          <dd class='desc'>
            <p>
              <p>Allowed mime types of files that visitor can upload.
Example of a value: <code>[&#39;application/pdf&#39;, &#39;image/png&#39;]</code></p>
            </p>
          </dd>
        </dl>
        <h2>Variables Summary</h2>
        <dl class='constants'>
  <dt id='SCAN_EVENT_REPLAY_COUNT-variable'>
    SCAN_EVENT_REPLAY_COUNT
    =
  </dt>
  <dd>
    <pre><code>100</code></pre>
    <div class='docstring'>
  <p>Replays are necessary because it is possible that file scan result arrives
before the response (which contains the file ID) from upload endpoint is received.
This number must be large enough to make sure that events are not missed if a lot
of files are uploaded.</p>
</div>
<div class='tags'>
</div>
  </dd>
  <dt id='EVENTS-variable'>
    EVENTS
    =
  </dt>
  <dd>
    <pre><code>{
  END: &#39;end&#39;,
  STATE_CHANGE: &#39;state_change&#39;,
  MEDIA_UPGRADE_OFFER: &#39;media_upgrade_offer&#39;,
  FOCUS: &#39;focus&#39;,
  MEDIA_STATE_CHANGE: &#39;media_state_change&#39;,
  COBROWSING_REQUEST: &#39;cobrowsing_request&#39;,
  MEDIA_PERMISSION_REQUEST: &#39;media_permission_request&#39;,
  WIDGET_MEDIA_UPGRADE_REQUEST: &#39;widget_media_upgrade_request&#39;,
  CUSTOM_COMMAND: &#39;custom_command&#39;
}</code></pre>
    
  </dd>
  <dt id='FOCUS_TARGETS-variable'>
    FOCUS_TARGETS
    =
  </dt>
  <dd>
    <pre><code>{
  CHAT: &#39;chat&#39;,
  COBROWSER: &#39;cobrowse&#39;
}</code></pre>
    
  </dd>
  <dt id='MEDIA_TYPES-variable'>
    MEDIA_TYPES
    =
  </dt>
  <dd>
    <pre><code>{
  TEXT: &#39;text&#39;,
  AUDIO: &#39;audio&#39;,
  PHONE: &#39;phone&#39;,
  VIDEO: &#39;video&#39;
}</code></pre>
    
  </dd>
</dl>
        <h2>Instance Method Summary</h2>
        <ul class='summary'>
  <li>
    <span class='signature'>
      <a href='#upgrade-dynamic'>
        #
(Promise)
<b>upgrade</b><span>(media, options)</span>
      </a>
    </span>
    <span class='desc'>
      Upgrades the engagement to a higher media. 
    </span>
  </li>
  <li>
    <span class='signature'>
      <a href='#iframePage-dynamic'>
        #
(Promise)
<b>iframePage</b><span>(options)</span>
      </a>
    </span>
    <span class='desc'>
      Reloads the current page in an iframe. 
    </span>
  </li>
  <li>
    <span class='signature'>
      <a href='#getSurvey-dynamic'>
        #
(Promise)
<b>getSurvey</b><span>()</span>
      </a>
    </span>
    <span class='desc'>
      Gets engagement <a href='../class/Survey.html'>Survey</a>. 
    </span>
  </li>
  <li>
    <span class='signature'>
      <a href='#end-dynamic'>
        #
(Promise)
<b>end</b><span>()</span>
      </a>
    </span>
    <span class='desc'>
      Ends the engagement. 
    </span>
  </li>
  <li>
    <span class='signature'>
      <a href='#notifyOfFocusChange-dynamic'>
        #
(Promise)
<b>notifyOfFocusChange</b><span>()</span>
      </a>
    </span>
    <span class='desc'>
      Notifies the operator about the part of the application that the visitor is currently focused on.

    </span>
  </li>
  <li>
    <span class='signature'>
      <a href='#addEventListener-dynamic'>
        #
(void)
<b>addEventListener</b><span>(type, listener)</span>
      </a>
    </span>
    <span class='desc'>
      Registers an event listener on the engagement. 
    </span>
  </li>
  <li>
    <span class='signature'>
      <a href='#removeEventListener-dynamic'>
        #
(void)
<b>removeEventListener</b><span>(type, listener)</span>
      </a>
    </span>
    <span class='desc'>
      Removes an event listener from the engagement. 
    </span>
  </li>
  <li>
    <span class='signature'>
      <a href='#recordEvent-dynamic'>
        #
(Promise)
<b>recordEvent</b><span>(params)</span>
      </a>
    </span>
    <span class='desc'>
      Records events generated by an engaged visitor. 
    </span>
  </li>
  <li>
    <span class='signature'>
      <a href='#uploadFile-dynamic'>
        #
(Promise)
<b>uploadFile</b><span>(file, options)</span>
      </a>
    </span>
    <span class='desc'>
      Uploads a file to an engagement. 
    </span>
  </li>
</ul>
        <h2>Instance Method Details</h2>
        <div class='methods'>
  <div class='method_details'>
    <p class='signature' id='upgrade-dynamic'>
      #
(Promise)
<b>upgrade</b><span>(media, options)</span>
      <br>
    </p>
    <div class='docstring'>
  <p>Upgrades the engagement to a higher media.</p>
</div>
<div class='tags'>
  <h3>Parameters:</h3>
  <ul class='param'>
    <li>
      <span class='name'>media</span>
      <span class='type'>
        (
          <tt>string</tt>
        )
      </span>
      &mdash;
      <span class='desc'>The media to upgrade to. Must be one of the following: &#39;phone&#39;, &#39;audio&#39;, &#39;video&#39;. </span>
    </li>
    <li>
      <span class='name'>options</span>
      <span class='type'>
        (
          <tt>Object</tt>
        )
      </span>
    </li>
  </ul>
  <h3>
    Options Hash:
    (options):
  </h3>
  <ul class='options'>
    <li>
      <span class='name'>phoneNumber</span>
      <span class='type'>
        (
          <tt>?string</tt>
        )
      </span>
      &mdash;
      <span class='desc'>The visitor&#39;s phone number in <a href="../extra/glossary.md.html#phone-numbers">E.164 format</a> to use when media to upgrade to is &#39;phone&#39;. </span>
    </li>
    <li>
      <span class='name'>oneWay</span>
      <span class='type'>
        (
          <tt>?boolean</tt>
        )
      </span>
      &mdash;
      <span class='desc'>When set to true, only the operator will be upgraded to the requested media, while the visitor&#39;s media will remain unchanged. This option is invalid if the specified media is &#39;phone&#39; or &#39;audio&#39;. See also: <a href="../extra/glossary.md.html#one-way">One-Way</a>. </span>
    </li>
  </ul>
  <h3>Returns:</h3>
  <ul class='return'>
    <li>
      <span class='type'></span>
      (
        <tt>Promise</tt>
      )
      &mdash;
      <span class='desc'>Fulfilled with an empty object or rejected with an <a href='../class/Error.html'>Error</a> if the process fails for any reason. The <a href='../class/Error.html'>Error</a> may have one of the following causes: INVALID_INPUT, INTERNAL_ERROR, NETWORK_TIMEOUT, NOT_SUPPORTED. </span>
    </li>
  </ul>
</div>
  </div>
  <div class='method_details'>
    <p class='signature' id='iframePage-dynamic'>
      #
(Promise)
<b>iframePage</b><span>(options)</span>
      <br>
    </p>
    <div class='docstring'>
  <p>Reloads the current page in an iframe.</p><p>The page must allow iFraming on the same origin with the
X-Frame-Options: <a href="https://tools.ietf.org/html/rfc7034">https://tools.ietf.org/html/rfc7034</a>.</p>
  <div class='examples'>
    <h3>Examples:</h3>
    <h4>
      
    </h4>
    <pre><code>var engagementRequest = salemove.requestEngagement(&#39;text&#39;);

engagementRequest.engagementPromise.then(function(engagement) {
  engagement.iframePage({
    keptElementSelectors: [
      &quot;.important&quot;,
      &quot;div#my-sidebar&quot;,
      &quot;script[src*=&#39;my-javascript&#39;]&quot;,
      &quot;link[href*=&#39;my-css&#39;]&quot;
    ]
  }).then(function(iframedPage) {
    engagement.addEventListener(engagement.EVENTS.END, function() {
      iframedPage.deframe();
    });
  });
});</code></pre>
  </div>
</div>
<div class='tags'>
  <h3>Parameters:</h3>
  <ul class='param'>
    <li>
      <span class='name'>options</span>
      <span class='type'>
        (
          <tt>Object</tt>
        )
      </span>
    </li>
  </ul>
  <h3>
    Options Hash:
    (options):
  </h3>
  <ul class='options'>
    <li>
      <span class='name'>keptElementSelectors</span>
      <span class='type'>
        (
          <tt>Array&lt;string&gt;</tt>
        )
      </span>
      &mdash;
      <span class='desc'>An array of element selectors as defined for document.querySelector to keep attached to the page. All the specified elements, their child elements and parents will be kept in the DOM. All other elements will be removed. All CSS and SCRIPT elements that are required for the engagement widgets must be specified. </span>
    </li>
  </ul>
  <h3>Returns:</h3>
  <ul class='return'>
    <li>
      <span class='type'></span>
      (
        <tt>Promise</tt>
      )
      &mdash;
      <span class='desc'>Fulfilled with <a href='../class/IframedPage.html'>IframedPage</a> or rejected with an <a href='../class/Error.html'>Error</a>. The <a href='../class/Error.html'>Error</a> may have one of the following causes: INTERNAL_ERROR. </span>
    </li>
  </ul>
</div>
  </div>
  <div class='method_details'>
    <p class='signature' id='getSurvey-dynamic'>
      #
(Promise)
<b>getSurvey</b><span>()</span>
      <br>
    </p>
    <div class='docstring'>
  <p>Gets engagement <a href='../class/Survey.html'>Survey</a>.</p>
  <div class='examples'>
    <h3>Examples:</h3>
    <h4>
      
    </h4>
    <pre><code>var engagementRequest = salemove.requestEngagement(&#39;text&#39;);

engagementRequest.engagementPromise.then(function(engagement) {
  engagement.addEventListener(engagement.EVENTS.END, function() {
    var gotSurvey = function(survey) {
      var questions = survey.questions;
      &#47;&#47; show questions to the visitor
    };

    engagement.getSurvey().then(gotSurvey);
  });
});</code></pre>
  </div>
</div>
<div class='tags'>
  <h3>Returns:</h3>
  <ul class='return'>
    <li>
      <span class='type'></span>
      (
        <tt>Promise</tt>
      )
      &mdash;
      <span class='desc'>Fulfilled with a <a href='../class/Survey.html'>Survey</a> or rejected with an <a href='../class/Error.html'>Error</a> </span>
    </li>
  </ul>
</div>
  </div>
  <div class='method_details'>
    <p class='signature' id='end-dynamic'>
      #
(Promise)
<b>end</b><span>()</span>
      <br>
    </p>
    <div class='docstring'>
  <p>Ends the engagement.</p>
</div>
<div class='tags'>
  <h3>Returns:</h3>
  <ul class='return'>
    <li>
      <span class='type'></span>
      (
        <tt>Promise</tt>
      )
      &mdash;
      <span class='desc'>Fulfilled with an empty object or rejected with an <a href='../class/Error.html'>Error</a> if the process fails for any reason. The <a href='../class/Error.html'>Error</a> may have one of the following causes: INTERNAL_ERROR. </span>
    </li>
  </ul>
</div>
  </div>
  <div class='method_details'>
    <p class='signature' id='notifyOfFocusChange-dynamic'>
      #
(Promise)
<b>notifyOfFocusChange</b><span>()</span>
      <br>
    </p>
    <div class='docstring'>
  <p>Notifies the operator about the part of the application that the visitor
is currently focused on.</p><p>Some applications may choose to de-emphasize or minimize its chat views
at times to avoid obstructing the user from browsing the rest of the
application. This is particularly relevant on mobile devices where
screen space is scarce and chat views often cover the entire screen.
(Chat views in this case refer to views that enable both text and
audio-visual communication.)</p><p>Applications that do adopt this behavior should use this endpoint
whenever its chat views are either emphasized or de-emphasized. Calling
this endpoint with <a href='../class/Engagement.html#FOCUS_TARGETS-variable'>CHAT</a> lets the operator know
that the visitor is focused on the chat views of the application and will
likely immediately see any messages sent by the operator. Calling it with
<a href='../class/Engagement.html#FOCUS_TARGETS-variable'>COBROWSER</a>, however, lets the operator know
that the visitor is NOT actively looking at the chat views and may not
immediately notice new messages.</p><p>Applications using this endpoint should also use the <a href="#FOCUS-event">FOCUS
event</a> to allow the operator to request on the visitor&#39;s
behalf that the application change focus.</p>
</div>
<div class='tags'>
  <h3>Parameters:</h3>
  <ul class='param'>
    <li>
      <span class='name'>focusTarget</span>
      <span class='type'>
        (
          <tt>string</tt>
        )
      </span>
      &mdash;
      <span class='desc'>The part of the application the visitor is currently focused on or which is currently emphasized. Must be one of <a href='../class/Engagement.html#FOCUS_TARGETS-variable'>Engagement.FOCUS_TARGETS</a>. </span>
    </li>
  </ul>
  <h3>Returns:</h3>
  <ul class='return'>
    <li>
      <span class='type'></span>
      (
        <tt>Promise</tt>
      )
      &mdash;
      <span class='desc'>Fulfilled with an empty object or rejected with an <a href='../class/Error.html'>Error</a> if the process fails for any reason. The <a href='../class/Error.html'>Error</a> may have one of the following causes: INVALID_INPUT, TIMEOUT, INTERNAL_ERROR. </span>
    </li>
  </ul>
</div>
  </div>
  <div class='method_details'>
    <p class='signature' id='addEventListener-dynamic'>
      #
(void)
<b>addEventListener</b><span>(type, listener)</span>
      <br>
    </p>
    <div class='docstring'>
  <p>Registers an event listener on the engagement.</p><p>If a listener is added while the engagement is processing an event, it
will be not triggered with the current event.</p><p>If multiple identical listeners are registered on the same event type the
duplicate instances are discarded. They do not cause the listener to be
called twice and do not need to be removed with the removeEventListener
method.</p>
</div>
<div class='tags'>
  <h3>Parameters:</h3>
  <ul class='param'>
    <li>
      <span class='name'>type</span>
      <span class='type'>
        (
          <tt>string</tt>
        )
      </span>
      &mdash;
      <span class='desc'>The event type for which the user is registering. Must be one of <a href='../class/Engagement.html#EVENTS-variable'>Engagement.EVENTS</a>. </span>
    </li>
    <li>
      <span class='name'>listener</span>
      <span class='type'>
        (
          <tt>function</tt>
        )
      </span>
      &mdash;
      <span class='desc'>The listener function that will be called when the event occurs. </span>
    </li>
  </ul>
</div>
  </div>
  <div class='method_details'>
    <p class='signature' id='removeEventListener-dynamic'>
      #
(void)
<b>removeEventListener</b><span>(type, listener)</span>
      <br>
    </p>
    <div class='docstring'>
  <p>Removes an event listener from the engagement.</p><p>If an event listener is removed while the engagement is processing an
event, it will not be triggered with the current event.</p><p>An event listener is never invoked after being removed.</p><p>Calling removeEventListener with arguments which do not identify any
currently registered listener has no effect.</p>
</div>
<div class='tags'>
  <h3>Parameters:</h3>
  <ul class='param'>
    <li>
      <span class='name'>type</span>
      <span class='type'>
        (
          <tt>string</tt>
        )
      </span>
      &mdash;
      <span class='desc'>The event type for the listener being removed. </span>
    </li>
    <li>
      <span class='name'>listener</span>
      <span class='type'>
        (
          <tt>function</tt>
        )
      </span>
      &mdash;
      <span class='desc'>The listener to be removed. </span>
    </li>
  </ul>
</div>
  </div>
  <div class='method_details'>
    <p class='signature' id='recordEvent-dynamic'>
      #
(Promise)
<b>recordEvent</b><span>(params)</span>
      <br>
    </p>
    <div class='docstring'>
  <p>Records events generated by an engaged visitor.</p><p>The activities created by an engaged visitor will be recorded and posted
to Glia. If the visitor is engaged with a virtual assistant the events
will be processed as regular utterances.</p>
  <div class='examples'>
    <h3>Examples:</h3>
    <h4>
      
    </h4>
    <pre><code>var engagementRequest = salemove.requestEngagement(&#39;text&#39;);

engagementRequest.engagementPromise.then(function(engagement) {
  var enableRecordEvent = function(engagement) {
    var someButton = document.querySelector(&#39;#record-event-button&#39;);

    someButton.addEventListener(&#39;click&#39;, function() {
      engagement.recordEvent({message: &#39;Record visitor event&#39;});
    });
  };
});</code></pre>
  </div>
</div>
<div class='tags'>
  <h3>Parameters:</h3>
  <ul class='param'>
    <li>
      <span class='name'>params</span>
      <span class='type'>
        (
          <tt>Object</tt>
        )
      </span>
    </li>
  </ul>
  <h3>
    Options Hash:
    (params):
  </h3>
  <ul class='options'>
    <li>
      <span class='name'>message</span>
      <span class='type'>
        (
          <tt>string</tt>
        )
      </span>
      &mdash;
      <span class='desc'>The engaged visitor event. </span>
    </li>
  </ul>
  <h3>Returns:</h3>
  <ul class='return'>
    <li>
      <span class='type'></span>
      (
        <tt>Promise</tt>
      )
      &mdash;
      <span class='desc'>Fulfilled with an empty object or rejected with an <a href='../class/Error.html'>Error</a> if the process fails for any reason. The <a href='../class/Error.html'>Error</a> may have one of the following causes: INVALID_INPUT, TIMEOUT, INTERNAL_ERROR. </span>
    </li>
  </ul>
</div>
  </div>
  <div class='method_details'>
    <p class='signature' id='uploadFile-dynamic'>
      #
(Promise)
<b>uploadFile</b><span>(file, options)</span>
      <br>
    </p>
    <div class='docstring'>
  <p>Uploads a file to an engagement.</p><p>The uploaded file can be later sent as part of a files attachment.</p>
  <div class='examples'>
    <h3>Examples:</h3>
    <h4>
      
    </h4>
    <pre><code>var engagementRequest = salemove.requestEngagement(&#39;text&#39;);
var file = new File([&#39;this is the file content&#39;], &#39;example.txt&#39;, {type: &#39;text&#47;plain&#39;});

engagementRequest.engagementPromise.then(function(engagement) {
  engagement.uploadFile(file).then(function(response) {
    console.log(&#39;ID of uploaded file:&#39;, response.id);
  });
});</code></pre>
  </div>
</div>
<div class='tags'>
  <h3>Parameters:</h3>
  <ul class='param'>
    <li>
      <span class='name'>file</span>
      <span class='type'>
        (
          <tt>File</tt>
        )
      </span>
    </li>
    <li>
      <span class='name'>options</span>
      <span class='type'>
        (
          <tt>Object</tt>
        )
      </span>
    </li>
    <li>
      <span class='name'>options.onUploadProgress</span>
      <span class='type'>
        (
          <tt>function</tt>
        )
      </span>
      &mdash;
      <span class='desc'>Called when upload progresses with {total, loaded} where total signifies the total number of bytes to upload and loaded the number of bytes already uploaded. </span>
    </li>
  </ul>
  <h3>Returns:</h3>
  <ul class='return'>
    <li>
      <span class='type'></span>
      (
        <tt>Promise</tt>
      )
      &mdash;
      <span class='desc'>Fulfilled with an <a href='../class/EngagementFile.html'>EngagementFile</a> or rejected with an <a href='../class/Error.html'>Error</a> if the upload fails. The <a href='../class/Error.html'>Error</a> may have one of the following causes: FILE_TOO_LARGE, FILE_CONTENT_TYPE_NOT_ALLOWED, INTERNAL_ERROR, NETWORK_TIMEOUT </span>
    </li>
  </ul>
</div>
  </div>
</div>
      </div>
      <div id='footer'>
  Powered by
  <a href='https://github.com/coffeedoc/codo' title='CoffeeScript API documentation generator'>
    Codo
  </a>
  &#10034;
  Press H to see the keyboard shortcuts
</div>
<iframe id='search_frame'></iframe>
<div id='fuzzySearch'>
  <input type='text'>
  <ol></ol>
</div>
<div id='help'>
  <p>
    Quickly fuzzy find classes, mixins, methods, file:
  </p>
  <ul>
    <li>
      <span>T</span>
      Open fuzzy finder dialog
    </li>
  </ul>
  <p>
    Control the navigation frame:
  </p>
  <ul>
    <li>
      <span>L</span>
      Toggle list view
    </li>
    <li>
      <span>C</span>
      Show class list
    </li>
    <li>
      <span>I</span>
      Show mixin list
    </li>
    <li>
      <span>M</span>
      Show method list
    </li>
    <li>
      <span>E</span>
      Show extras list
    </li>
  </ul>
  <p>
    You can focus and blur the search input:
  </p>
  <ul>
    <li>
      <span>S</span>
      Focus search input
    </li>
    <li>
      <span>Esc</span>
      Blur search input
    </li>
  </ul>
</div>
    </div>
  </body>
</html>