<!DOCTYPE html>
<html>
  <head>
  <meta charset='UTF-8'>
  <title>Glia JS SDK Documentation</title>
  <meta name='viewport' content='width=device-width initial-scale=1.0'>
  <script src='../javascript/application.js'></script>
  <script src='../javascript/search.js'></script>
  <link rel='stylesheet' href='../stylesheets/application.css' type='text/css'>
</head>
  <body>
    <div id='sidebar'>
  <div id='sidebar_content'>
    <h1 class='class_list toggled visible'>Class List</h1>
    <h1 class='method_list toggled'>      Method List</h1>
    <h1 class='extra_list toggled'>       Extra List</h1>
    <h1 class='mixin_list toggled'>       Mixin List</h1>
    <nav>
      <a onclick='openClassList();'>
        Classes
      </a>
      <a onclick='openMethodList();'>
        Methods
      </a>
      <a onclick='openExtraList();'>
        Extras
      </a>
    </nav>
    <div id='search'>
      Search:
      <input type='text'>
    </div>
    <div class='class_list list toggled tree visible'>
      <ul>
  <li>
    <a href='../class/AuthenticationRequest.html'>
      AuthenticationRequest
    </a>
    <small class='namespace'>
      
    </small>
  </li>
  <li>
    <a href='../class/ChatController.html'>
      ChatController
    </a>
    <small class='namespace'>
      
    </small>
  </li>
  <li>
    <a href='../class/OperatorMessage.html'>
      OperatorMessage
    </a>
    <small class='namespace'>
      
    </small>
  </li>
  <li>
    <a href='../class/OperatorTypingStatus.html'>
      OperatorTypingStatus
    </a>
    <small class='namespace'>
      
    </small>
  </li>
  <li>
    <a href='../class/VisitorMessage.html'>
      VisitorMessage
    </a>
    <small class='namespace'>
      
    </small>
  </li>
  <li>
    <a href='../class/Chat.html'>
      Chat
    </a>
    <small class='namespace'>
      
    </small>
  </li>
  <li>
    <a href='../class/Cobrowser.html'>
      Cobrowser
    </a>
    <small class='namespace'>
      
    </small>
  </li>
  <li>
    <a href='../class/CobrowsingState.html'>
      CobrowsingState
    </a>
    <small class='namespace'>
      
    </small>
  </li>
  <li>
    <a href='../class/CobrowsingSession.html'>
      CobrowsingSession
    </a>
    <small class='namespace'>
      
    </small>
  </li>
  <li>
    <a href='../class/CobrowsingRequest.html'>
      CobrowsingRequest
    </a>
    <small class='namespace'>
      
    </small>
  </li>
  <li>
    <a href='../class/Config.html'>
      Config
    </a>
    <small class='namespace'>
      
    </small>
  </li>
  <li>
    <a href='../class/SiteLogo.html'>
      SiteLogo
    </a>
    <small class='namespace'>
      
    </small>
  </li>
  <li>
    <a href='../class/ReactiveTabVisuals.html'>
      ReactiveTabVisuals
    </a>
    <small class='namespace'>
      
    </small>
  </li>
  <li>
    <a href='../class/ConnectionStatus.html'>
      ConnectionStatus
    </a>
    <small class='namespace'>
      
    </small>
  </li>
  <li>
    <a href='../class/LocalQueue.html'>
      LocalQueue
    </a>
    <small class='namespace'>
      
    </small>
  </li>
  <li>
    <a href='../class/CustomCommand.html'>
      CustomCommand
    </a>
    <small class='namespace'>
      
    </small>
  </li>
  <li>
    <a href='../class/EngagementFile.html'>
      EngagementFile
    </a>
    <small class='namespace'>
      
    </small>
  </li>
  <li>
    <a href='../class/Engagement.html'>
      Engagement
    </a>
    <small class='namespace'>
      
    </small>
  </li>
  <li>
    <a href='../class/IframedPage.html'>
      IframedPage
    </a>
    <small class='namespace'>
      
    </small>
  </li>
  <li>
    <a href='../class/MediaPermission.html'>
      MediaPermission
    </a>
    <small class='namespace'>
      
    </small>
  </li>
  <li>
    <a href='../class/EngagementState.html'>
      EngagementState
    </a>
    <small class='namespace'>
      
    </small>
  </li>
  <li>
    <a href='../class/EngagementRequest.html'>
      EngagementRequest
    </a>
    <small class='namespace'>
      
    </small>
  </li>
  <li>
    <a href='../class/Error.html'>
      Error
    </a>
    <small class='namespace'>
      
    </small>
  </li>
  <li>
    <a href='../class/IncomingEngagementRequest.html'>
      IncomingEngagementRequest
    </a>
    <small class='namespace'>
      
    </small>
  </li>
  <li>
    <a href='../class/VisitController.html'>
      VisitController
    </a>
    <small class='namespace'>
      
    </small>
  </li>
  <li>
    <a href='../class/MediaState.html'>
      MediaState
    </a>
    <small class='namespace'>
      
    </small>
  </li>
  <li>
    <a href='../class/MediaUpgradeOffer.html'>
      MediaUpgradeOffer
    </a>
    <small class='namespace'>
      
    </small>
  </li>
  <li>
    <a href='../class/VisitorCode.html'>
      VisitorCode
    </a>
    <small class='namespace'>
      
    </small>
  </li>
  <li>
    <a href='../class/Omnibrowse.html'>
      Omnibrowse
    </a>
    <small class='namespace'>
      
    </small>
  </li>
  <li>
    <a href='../class/Omnicall.html'>
      Omnicall
    </a>
    <small class='namespace'>
      
    </small>
  </li>
  <li>
    <a href='../class/Operator.html'>
      Operator
    </a>
    <small class='namespace'>
      
    </small>
  </li>
  <li>
    <a href='../class/Overseer.html'>
      Overseer
    </a>
    <small class='namespace'>
      
    </small>
  </li>
  <li>
    <a href='../class/ReactiveCalloutStart.html'>
      ReactiveCalloutStart
    </a>
    <small class='namespace'>
      
    </small>
  </li>
  <li>
    <a href='../class/ReactiveExpand.html'>
      ReactiveExpand
    </a>
    <small class='namespace'>
      
    </small>
  </li>
  <li>
    <a href='../class/ReactivePosition.html'>
      ReactivePosition
    </a>
    <small class='namespace'>
      
    </small>
  </li>
  <li>
    <a href='../class/MediaSelectionStart.html'>
      MediaSelectionStart
    </a>
    <small class='namespace'>
      
    </small>
  </li>
  <li>
    <a href='../class/EngagementInvitationShow.html'>
      EngagementInvitationShow
    </a>
    <small class='namespace'>
      
    </small>
  </li>
  <li>
    <a href='../class/AggregateQueueState.html'>
      AggregateQueueState
    </a>
    <small class='namespace'>
      
    </small>
  </li>
  <li>
    <a href='../class/AlreadyQueuedError.html'>
      AlreadyQueuedError
    </a>
    <small class='parent'>
      <
      Error
    </small>
    <small class='namespace'>
      
    </small>
  </li>
  <li>
    <a href='../class/Queue.html'>
      Queue
    </a>
    <small class='namespace'>
      
    </small>
  </li>
  <li>
    <a href='../class/QueueState.html'>
      QueueState
    </a>
    <small class='namespace'>
      
    </small>
  </li>
  <li>
    <a href='../class/QueueTicket.html'>
      QueueTicket
    </a>
    <small class='namespace'>
      
    </small>
  </li>
  <li>
    <a href='../class/QueueWaitDuration.html'>
      QueueWaitDuration
    </a>
    <small class='namespace'>
      
    </small>
  </li>
  <li>
    <a href='../class/Salemove.html'>
      Salemove
    </a>
    <small class='namespace'>
      
    </small>
  </li>
  <li>
    <a href='../class/LegacySurvey.html'>
      LegacySurvey
    </a>
    <small class='namespace'>
      
    </small>
  </li>
  <li>
    <a href='../class/LegacySurveyQuestion.html'>
      LegacySurveyQuestion
    </a>
    <small class='namespace'>
      
    </small>
  </li>
  <li>
    <a href='../class/LegacySurveyChoice.html'>
      LegacySurveyChoice
    </a>
    <small class='namespace'>
      
    </small>
  </li>
  <li>
    <a href='../class/Survey.html'>
      Survey
    </a>
    <small class='namespace'>
      
    </small>
  </li>
  <li>
    <a href='../class/SurveyQuestion.html'>
      SurveyQuestion
    </a>
    <small class='namespace'>
      
    </small>
  </li>
  <li>
    <a href='../class/SurveyChoice.html'>
      SurveyChoice
    </a>
    <small class='namespace'>
      
    </small>
  </li>
  <li>
    <a href='../class/VisitorApp.html'>
      VisitorApp
    </a>
    <small class='namespace'>
      
    </small>
  </li>
  <li>
    <a href='../class/VisitorStatus.html'>
      VisitorStatus
    </a>
    <small class='namespace'>
      
    </small>
  </li>
  <li>
    <a href='../class/WidgetMediaUpgradeRequest.html'>
      WidgetMediaUpgradeRequest
    </a>
    <small class='namespace'>
      
    </small>
  </li>
</ul>

    </div>
    <div class='list mixin_list toggled tree'>
      <ul>
</ul>

    </div>
    <div class='extra_list list toggled tree'>
      <ul>
  <li>
    <a href='../extra/README.md.html'>
      README.md
    </a>
  </li>
  <li>
    <a href='../extra/glossary.md.html'>
      glossary.md
    </a>
  </li>
  <li>
    <a href='../extra/widgets.md.html'>
      widgets.md
    </a>
  </li>
</ul>

    </div>
    <div class='list method_list toggled'>
      <ul>
  <li>
    <a href='../class/VisitController.html#_addListeners-dynamic' title='_addListeners'>
      #_addListeners
    </a>
    <small>
      (VisitController)
    </small>
  </li>
  <li>
    <a href='../class/ChatController.html#_filterSensitiveContent-dynamic' title='_filterSensitiveContent'>
      #_filterSensitiveContent
    </a>
    <small>
      (ChatController)
    </small>
  </li>
  <li>
    <a href='../class/ChatController.html#_maskContent-dynamic' title='_maskContent'>
      #_maskContent
    </a>
    <small>
      (ChatController)
    </small>
  </li>
  <li>
    <a href='../class/ChatController.html#_maskDigits-dynamic' title='_maskDigits'>
      #_maskDigits
    </a>
    <small>
      (ChatController)
    </small>
  </li>
  <li>
    <a href='../class/ChatController.html#_maskPreview-dynamic' title='_maskPreview'>
      #_maskPreview
    </a>
    <small>
      (ChatController)
    </small>
  </li>
  <li>
    <a href='../class/LocalQueue.html#_persist-dynamic' title='_persist'>
      #_persist
    </a>
    <small>
      (LocalQueue)
    </small>
  </li>
  <li>
    <a href='../class/VisitController.html#_receivePostMessage-dynamic' title='_receivePostMessage'>
      #_receivePostMessage
    </a>
    <small>
      (VisitController)
    </small>
  </li>
  <li>
    <a href='../class/VisitController.html#_restoreLastUrl-dynamic' title='_restoreLastUrl'>
      #_restoreLastUrl
    </a>
    <small>
      (VisitController)
    </small>
  </li>
  <li>
    <a href='../class/IncomingEngagementRequest.html#accept-dynamic' title='accept'>
      #accept
    </a>
    <small>
      (IncomingEngagementRequest)
    </small>
  </li>
  <li>
    <a href='../class/LocalQueue.html#add-dynamic' title='add'>
      #add
    </a>
    <small>
      (LocalQueue)
    </small>
  </li>
  <li>
    <a href='../class/Cobrowser.html#addBufferedEventListener-dynamic' title='addBufferedEventListener'>
      #addBufferedEventListener
    </a>
    <small>
      (Cobrowser)
    </small>
  </li>
  <li>
    <a href='../class/Overseer.html#addBufferedEventListener-dynamic' title='addBufferedEventListener'>
      #addBufferedEventListener
    </a>
    <small>
      (Overseer)
    </small>
  </li>
  <li>
    <a href='../class/Chat.html#addEventListener-dynamic' title='addEventListener'>
      #addEventListener
    </a>
    <small>
      (Chat)
    </small>
  </li>
  <li>
    <a href='../class/Engagement.html#addEventListener-dynamic' title='addEventListener'>
      #addEventListener
    </a>
    <small>
      (Engagement)
    </small>
  </li>
  <li>
    <a href='../class/Omnicall.html#addEventListener-dynamic' title='addEventListener'>
      #addEventListener
    </a>
    <small>
      (Omnicall)
    </small>
  </li>
  <li>
    <a href='../class/Salemove.html#addEventListener-dynamic' title='addEventListener'>
      #addEventListener
    </a>
    <small>
      (Salemove)
    </small>
  </li>
  <li>
    <a href='../class/Cobrowser.html#addUnbufferedEventListener-dynamic' title='addUnbufferedEventListener'>
      #addUnbufferedEventListener
    </a>
    <small>
      (Cobrowser)
    </small>
  </li>
  <li>
    <a href='../class/Overseer.html#addUnbufferedEventListener-dynamic' title='addUnbufferedEventListener'>
      #addUnbufferedEventListener
    </a>
    <small>
      (Overseer)
    </small>
  </li>
  <li>
    <a href='../class/CobrowsingRequest.html#allow-dynamic' title='allow'>
      #allow
    </a>
    <small>
      (CobrowsingRequest)
    </small>
  </li>
  <li>
    <a href='../class/Survey.html#answer-dynamic' title='answer'>
      #answer
    </a>
    <small>
      (Survey)
    </small>
  </li>
  <li>
    <a href='../class/LocalQueue.html#asArray-dynamic' title='asArray'>
      #asArray
    </a>
    <small>
      (LocalQueue)
    </small>
  </li>
  <li>
    <a href='../class/EngagementRequest.html#cancel-dynamic' title='cancel'>
      #cancel
    </a>
    <small>
      (EngagementRequest)
    </small>
  </li>
  <li>
    <a href='../class/QueueTicket.html#cancel-dynamic' title='cancel'>
      #cancel
    </a>
    <small>
      (QueueTicket)
    </small>
  </li>
  <li>
    <a href='../class/VisitController.html#capabilitiesRequestObservable-dynamic' title='capabilitiesRequestObservable'>
      #capabilitiesRequestObservable
    </a>
    <small>
      (VisitController)
    </small>
  </li>
  <li>
    <a href='../class/Salemove.html#changeElementAttributesForCobrowsing-dynamic' title='changeElementAttributesForCobrowsing'>
      #changeElementAttributesForCobrowsing
    </a>
    <small>
      (Salemove)
    </small>
  </li>
  <li>
    <a href='../class/ChatController.html#constructor-dynamic' title='constructor'>
      #constructor
    </a>
    <small>
      (ChatController)
    </small>
  </li>
  <li>
    <a href='../class/LocalQueue.html#constructor-dynamic' title='constructor'>
      #constructor
    </a>
    <small>
      (LocalQueue)
    </small>
  </li>
  <li>
    <a href='../class/EngagementFile.html#constructor-dynamic' title='constructor'>
      #constructor
    </a>
    <small>
      (EngagementFile)
    </small>
  </li>
  <li>
    <a href='../class/VisitController.html#constructor-dynamic' title='constructor'>
      #constructor
    </a>
    <small>
      (VisitController)
    </small>
  </li>
  <li>
    <a href='../class/AlreadyQueuedError.html#constructor-dynamic' title='constructor'>
      #constructor
    </a>
    <small>
      (AlreadyQueuedError)
    </small>
  </li>
  <li>
    <a href='../class/Queue.html#constructor-dynamic' title='constructor'>
      #constructor
    </a>
    <small>
      (Queue)
    </small>
  </li>
  <li>
    <a href='../class/QueueState.html#constructor-dynamic' title='constructor'>
      #constructor
    </a>
    <small>
      (QueueState)
    </small>
  </li>
  <li>
    <a href='../class/VisitorApp.html#constructor-dynamic' title='constructor'>
      #constructor
    </a>
    <small>
      (VisitorApp)
    </small>
  </li>
  <li>
    <a href='../class/IncomingEngagementRequest.html#create-static' title='create'>
      .create
    </a>
    <small>
      (IncomingEngagementRequest)
    </small>
  </li>
  <li>
    <a href='../class/Salemove.html#createAuthenticationRequest-dynamic' title='createAuthenticationRequest'>
      #createAuthenticationRequest
    </a>
    <small>
      (Salemove)
    </small>
  </li>
  <li>
    <a href='../class/AuthenticationRequest.html#decline-dynamic' title='decline'>
      #decline
    </a>
    <small>
      (AuthenticationRequest)
    </small>
  </li>
  <li>
    <a href='../class/CobrowsingRequest.html#decline-dynamic' title='decline'>
      #decline
    </a>
    <small>
      (CobrowsingRequest)
    </small>
  </li>
  <li>
    <a href='../class/IncomingEngagementRequest.html#decline-dynamic' title='decline'>
      #decline
    </a>
    <small>
      (IncomingEngagementRequest)
    </small>
  </li>
  <li>
    <a href='../class/MediaUpgradeOffer.html#decline-dynamic' title='decline'>
      #decline
    </a>
    <small>
      (MediaUpgradeOffer)
    </small>
  </li>
  <li>
    <a href='../class/IframedPage.html#deframe-dynamic' title='deframe'>
      #deframe
    </a>
    <small>
      (IframedPage)
    </small>
  </li>
  <li>
    <a href='../class/Engagement.html#end-dynamic' title='end'>
      #end
    </a>
    <small>
      (Engagement)
    </small>
  </li>
  <li>
    <a href='../class/Salemove.html#getBrowserContext-dynamic' title='getBrowserContext'>
      #getBrowserContext
    </a>
    <small>
      (Salemove)
    </small>
  </li>
  <li>
    <a href='../class/Salemove.html#getQueueWaitDuration-dynamic' title='getQueueWaitDuration'>
      #getQueueWaitDuration
    </a>
    <small>
      (Salemove)
    </small>
  </li>
  <li>
    <a href='../class/Salemove.html#getQueues-dynamic' title='getQueues'>
      #getQueues
    </a>
    <small>
      (Salemove)
    </small>
  </li>
  <li>
    <a href='../class/Salemove.html#getRequestHeaders-dynamic' title='getRequestHeaders'>
      #getRequestHeaders
    </a>
    <small>
      (Salemove)
    </small>
  </li>
  <li>
    <a href='../class/EngagementFile.html#getScanResult-dynamic' title='getScanResult'>
      #getScanResult
    </a>
    <small>
      (EngagementFile)
    </small>
  </li>
  <li>
    <a href='../class/Salemove.html#getSessionContext-dynamic' title='getSessionContext'>
      #getSessionContext
    </a>
    <small>
      (Salemove)
    </small>
  </li>
  <li>
    <a href='../class/Salemove.html#getSiteId-dynamic' title='getSiteId'>
      #getSiteId
    </a>
    <small>
      (Salemove)
    </small>
  </li>
  <li>
    <a href='../class/Engagement.html#getSurvey-dynamic' title='getSurvey'>
      #getSurvey
    </a>
    <small>
      (Engagement)
    </small>
  </li>
  <li>
    <a href='../class/Omnibrowse.html#getVisitorCode-dynamic' title='getVisitorCode'>
      #getVisitorCode
    </a>
    <small>
      (Omnibrowse)
    </small>
  </li>
  <li>
    <a href='../class/Salemove.html#getVisitorId-dynamic' title='getVisitorId'>
      #getVisitorId
    </a>
    <small>
      (Salemove)
    </small>
  </li>
  <li>
    <a href='../class/Engagement.html#iframePage-dynamic' title='iframePage'>
      #iframePage
    </a>
    <small>
      (Engagement)
    </small>
  </li>
  <li>
    <a href='../class/LocalQueue.html#includesItems-dynamic' title='includesItems'>
      #includesItems
    </a>
    <small>
      (LocalQueue)
    </small>
  </li>
  <li>
    <a href='../class/Salemove.html#isInEngagement-dynamic' title='isInEngagement'>
      #isInEngagement
    </a>
    <small>
      (Salemove)
    </small>
  </li>
  <li>
    <a href='../class/Salemove.html#leaveMessage-dynamic' title='leaveMessage'>
      #leaveMessage
    </a>
    <small>
      (Salemove)
    </small>
  </li>
  <li>
    <a href='../class/Salemove.html#leaveOperatorMessage-dynamic' title='leaveOperatorMessage'>
      #leaveOperatorMessage
    </a>
    <small>
      (Salemove)
    </small>
  </li>
  <li>
    <a href='../class/Engagement.html#notifyOfFocusChange-dynamic' title='notifyOfFocusChange'>
      #notifyOfFocusChange
    </a>
    <small>
      (Engagement)
    </small>
  </li>
  <li>
    <a href='../class/ChatController.html#observables-dynamic' title='observables'>
      #observables
    </a>
    <small>
      (ChatController)
    </small>
  </li>
  <li>
    <a href='../class/LocalQueue.html#purge-dynamic' title='purge'>
      #purge
    </a>
    <small>
      (LocalQueue)
    </small>
  </li>
  <li>
    <a href='../class/Salemove.html#queueForEngagement-dynamic' title='queueForEngagement'>
      #queueForEngagement
    </a>
    <small>
      (Salemove)
    </small>
  </li>
  <li>
    <a href='../class/Engagement.html#recordEvent-dynamic' title='recordEvent'>
      #recordEvent
    </a>
    <small>
      (Engagement)
    </small>
  </li>
  <li>
    <a href='../class/Cobrowser.html#removeBufferedEventListener-dynamic' title='removeBufferedEventListener'>
      #removeBufferedEventListener
    </a>
    <small>
      (Cobrowser)
    </small>
  </li>
  <li>
    <a href='../class/Overseer.html#removeBufferedEventListener-dynamic' title='removeBufferedEventListener'>
      #removeBufferedEventListener
    </a>
    <small>
      (Overseer)
    </small>
  </li>
  <li>
    <a href='../class/Chat.html#removeEventListener-dynamic' title='removeEventListener'>
      #removeEventListener
    </a>
    <small>
      (Chat)
    </small>
  </li>
  <li>
    <a href='../class/Engagement.html#removeEventListener-dynamic' title='removeEventListener'>
      #removeEventListener
    </a>
    <small>
      (Engagement)
    </small>
  </li>
  <li>
    <a href='../class/Omnicall.html#removeEventListener-dynamic' title='removeEventListener'>
      #removeEventListener
    </a>
    <small>
      (Omnicall)
    </small>
  </li>
  <li>
    <a href='../class/Salemove.html#removeEventListener-dynamic' title='removeEventListener'>
      #removeEventListener
    </a>
    <small>
      (Salemove)
    </small>
  </li>
  <li>
    <a href='../class/LocalQueue.html#removeTop-dynamic' title='removeTop'>
      #removeTop
    </a>
    <small>
      (LocalQueue)
    </small>
  </li>
  <li>
    <a href='../class/Cobrowser.html#removeUnbufferedEventListener-dynamic' title='removeUnbufferedEventListener'>
      #removeUnbufferedEventListener
    </a>
    <small>
      (Cobrowser)
    </small>
  </li>
  <li>
    <a href='../class/Overseer.html#removeUnbufferedEventListener-dynamic' title='removeUnbufferedEventListener'>
      #removeUnbufferedEventListener
    </a>
    <small>
      (Overseer)
    </small>
  </li>
  <li>
    <a href='../class/Salemove.html#requestAsset-dynamic' title='requestAsset'>
      #requestAsset
    </a>
    <small>
      (Salemove)
    </small>
  </li>
  <li>
    <a href='../class/Salemove.html#requestEngagement-dynamic' title='requestEngagement'>
      #requestEngagement
    </a>
    <small>
      (Salemove)
    </small>
  </li>
  <li>
    <a href='../class/LegacySurvey.html#respond-dynamic' title='respond'>
      #respond
    </a>
    <small>
      (LegacySurvey)
    </small>
  </li>
  <li>
    <a href='../class/MediaUpgradeOffer.html#select-dynamic' title='select'>
      #select
    </a>
    <small>
      (MediaUpgradeOffer)
    </small>
  </li>
  <li>
    <a href='../class/IncomingEngagementRequest.html#selectMedia-dynamic' title='selectMedia'>
      #selectMedia
    </a>
    <small>
      (IncomingEngagementRequest)
    </small>
  </li>
  <li>
    <a href='../class/ChatController.html#sendMessage-dynamic' title='sendMessage'>
      #sendMessage
    </a>
    <small>
      (ChatController)
    </small>
  </li>
  <li>
    <a href='../class/Chat.html#sendMessage-dynamic' title='sendMessage'>
      #sendMessage
    </a>
    <small>
      (Chat)
    </small>
  </li>
  <li>
    <a href='../class/ChatController.html#sendMessagePreview-dynamic' title='sendMessagePreview'>
      #sendMessagePreview
    </a>
    <small>
      (ChatController)
    </small>
  </li>
  <li>
    <a href='../class/Chat.html#sendMessagePreview-dynamic' title='sendMessagePreview'>
      #sendMessagePreview
    </a>
    <small>
      (Chat)
    </small>
  </li>
  <li>
    <a href='../class/VisitorApp.html#setChatMessageRenderer-dynamic' title='setChatMessageRenderer'>
      #setChatMessageRenderer
    </a>
    <small>
      (VisitorApp)
    </small>
  </li>
  <li>
    <a href='../class/Omnibrowse.html#setEngagementReestablishHandler-dynamic' title='setEngagementReestablishHandler'>
      #setEngagementReestablishHandler
    </a>
    <small>
      (Omnibrowse)
    </small>
  </li>
  <li>
    <a href='../class/Salemove.html#setEngagementReestablishHandler-dynamic' title='setEngagementReestablishHandler'>
      #setEngagementReestablishHandler
    </a>
    <small>
      (Salemove)
    </small>
  </li>
  <li>
    <a href='../class/Omnibrowse.html#setIncomingEngagementRequestHandler-dynamic' title='setIncomingEngagementRequestHandler'>
      #setIncomingEngagementRequestHandler
    </a>
    <small>
      (Omnibrowse)
    </small>
  </li>
  <li>
    <a href='../class/Salemove.html#setIncomingEngagementRequestHandler-dynamic' title='setIncomingEngagementRequestHandler'>
      #setIncomingEngagementRequestHandler
    </a>
    <small>
      (Salemove)
    </small>
  </li>
  <li>
    <a href='../class/Salemove.html#setLocale-dynamic' title='setLocale'>
      #setLocale
    </a>
    <small>
      (Salemove)
    </small>
  </li>
  <li>
    <a href='../class/Salemove.html#setupContactOperatorButton-dynamic' title='setupContactOperatorButton'>
      #setupContactOperatorButton
    </a>
    <small>
      (Salemove)
    </small>
  </li>
  <li>
    <a href='../class/VisitController.html#start-dynamic' title='start'>
      #start
    </a>
    <small>
      (VisitController)
    </small>
  </li>
  <li>
    <a href='../class/ChatController.html#stop-dynamic' title='stop'>
      #stop
    </a>
    <small>
      (ChatController)
    </small>
  </li>
  <li>
    <a href='../class/CobrowsingSession.html#stop-dynamic' title='stop'>
      #stop
    </a>
    <small>
      (CobrowsingSession)
    </small>
  </li>
  <li>
    <a href='../class/Salemove.html#subscribeToQueueStateUpdates-dynamic' title='subscribeToQueueStateUpdates'>
      #subscribeToQueueStateUpdates
    </a>
    <small>
      (Salemove)
    </small>
  </li>
  <li>
    <a href='../class/LocalQueue.html#top-dynamic' title='top'>
      #top
    </a>
    <small>
      (LocalQueue)
    </small>
  </li>
  <li>
    <a href='../class/VisitorApp.html#triggerQueueMediaSelection-dynamic' title='triggerQueueMediaSelection'>
      #triggerQueueMediaSelection
    </a>
    <small>
      (VisitorApp)
    </small>
  </li>
  <li>
    <a href='../class/Salemove.html#updateInformation-dynamic' title='updateInformation'>
      #updateInformation
    </a>
    <small>
      (Salemove)
    </small>
  </li>
  <li>
    <a href='../class/Engagement.html#upgrade-dynamic' title='upgrade'>
      #upgrade
    </a>
    <small>
      (Engagement)
    </small>
  </li>
  <li>
    <a href='../class/Engagement.html#uploadFile-dynamic' title='uploadFile'>
      #uploadFile
    </a>
    <small>
      (Engagement)
    </small>
  </li>
  <li>
    <a href='../class/Salemove.html#willNavigate-dynamic' title='willNavigate'>
      #willNavigate
    </a>
    <small>
      (Salemove)
    </small>
  </li>
</ul>
    </div>
  </div>
</div>
    <div id='content_wrapper'>
      <div id='base' data-path='../'></div>
<div id='header'>
  <div id='menu'>
    <a href='../extra/README.md.html' title='Glia JS SDK'>
      Glia JS SDK
    </a>
    &raquo;
    <a href='../alphabetical_index.html' title='Index'>
      Index
    </a>
    &raquo;
    <span class='title'>Salemove</span>
  </div>
</div>
      <div id='content'>
        <h1>
          Class:
          Salemove
        </h1>
        <table class='box'>
        </table>
        <h2>Overview</h2>
        <div class='docstring'>
  
  <div class='examples'>
    <h3>Examples:</h3>
    <h4>
      Getting the JS SDK as an instance of Glia
    </h4>
    <pre><code>sm.getApi({version: &#39;v1&#39;}).then(function(salemove) {
  &#47;&#47; Your code
});</code></pre>
    <h4>
      Allow visitors to queue for engagements
    </h4>
    <pre><code>var queueView = document.createElement(&#39;div&#39;);
document.body.appendChild(queueView);

var engagementView = document.createElement(&#39;div&#39;);
document.body.appendChild(engagementView);

sm.getApi({version: &#39;v1&#39;}).then(function(salemove) {
  function onQueueStateUpdate(queueState) {
    if (queueState.state === queueState.QUEUE_STATES.CAN_QUEUE) {
      queueView.addEventListener(&#39;click&#39;, onClickToQueue);
      queueView.innerText = &#39;Click to queue.&#39;;
    } else if (queueState.state === queueState.QUEUE_STATES.QUEUED) {
      showWaitingView(queueState.ticket);
      salemove.getQueueWaitDuration()
        .then(showWaitingViewWithTimer(queueState.ticket));
    } else if (queueState.state === queueState.QUEUE_STATES.CANNOT_QUEUE) {
      queueView.removeEventListener(&#39;click&#39;, onClickToQueue);
      queueView.innerText = &#39;Cannot queue.&#39;;
    }
  }

  function onClickToQueue() {
    salemove.queueForEngagement(&#39;text&#39;).catch(showFailedToQueueView);
  }

  salemove.addEventListener(salemove.EVENTS.QUEUE_STATE_UPDATE, onQueueStateUpdate);
  salemove.addEventListener(salemove.EVENTS.ENGAGEMENT_START, showEngagedView);
  salemove.addEventListener(salemove.EVENTS.ENGAGEMENT_END, showNotEngagedView);
});

function showWaitingView(queueTicket) {
  queueView.innerText = &#39;Hang on.&#39;;
  queueView.appendChild(cancelButton(queueTicket));
}

function showWaitingViewWithTimer(queueTicket) {
  return function(waitDuration) {
    queueView.innerText = &#39;Hang on. This usually takes &#39; +
      waitDuration.averageDurationInSeconds + &#39; seconds.&#39;;
    queueView.appendChild(cancelButton(queueTicket));
  };
}

function showFailedToQueueView(error) {
  queueView.innerText = &#39;Failed to queue!&#39;;
}

function showEngagedView(engagement) {
  engagementView.innerText = &#39;Engaged with &#39; + engagement.operator.name + &#39;!&#39;;
}

function showNotEngagedView(engagement) {
  engagementView.innerText = &#39;Not engaged.&#39;;
}

function cancelButton(queueTicket) {
  var button = document.createElement(&#39;span&#39;);
  button.innerText = &#39; Click here to cancel.&#39;;
  button.addEventListener(&#39;click&#39;, function() {
    queueTicket.cancel();
  });
  return button;
}</code></pre>
    <h4>
      Different behavior depending on how many operators are available
    </h4>
    <pre><code>var operators = [];

function onOperatorStatusChange(updatedOperator) {
  operators = operators.map(function(operator) {
    if (operator.id == updatedOperator.id) {
      return updatedOperator;
    } else {
      return operator;
    }
  });
  updateElementUI();
}

function onOperatorListChange(updatedOperators) {
  operators = updatedOperators;
  updateElementUI();
}

function updateElementUI() {
  var availableOperators = filterAvailableOperators(operators);
  if (availableOperators.length === 0) {
    alert(&quot;No operators are available.&quot;);
    &#47;&#47; Update application to indicate that no operators are available
  } else {
    alert(&quot;At least one operator is now available.&quot;);
    &#47;&#47; Update application to indicate that at least one operator is available
  }
}

function filterAvailableOperators(operators) {
  return operators.filter(function(operator) {
    return operator.state.available;
  });
}

sm.getApi({version: &#39;v1&#39;}).then(function(salemove) {
  salemove.addEventListener(salemove.EVENTS.OPERATOR_LIST_UPDATE, onOperatorListChange);
  salemove.addEventListener(salemove.EVENTS.OPERATOR_STATUS_UPDATE, onOperatorStatusChange);
});</code></pre>
  </div>
</div>
<div class='tags'>
  <div class='events'>
    <h3>Events:</h3>
    <div class='event' id='ENGAGEMENT_START-event'>
      <p class='signature'>
        ENGAGEMENT_START
      </p>
      <div class='docstring'>
  <p>Triggered when an engagement starts, regardless of whether it
was initiated by the visitor or the operator. Also triggered when the
engagement is <a href="../extra/glossary.md.html#reestablishing">re-established</a>.
The event listener will be called with an <a href='../class/Engagement.html'>Engagement</a> instance.</p>
</div>
<div class='tags'>
</div>
    </div>
    <div class='event' id='ENGAGEMENT_END-event'>
      <p class='signature'>
        ENGAGEMENT_END
      </p>
      <div class='docstring'>
  <p>Triggered when an engagement has ended. The event listener will be called
with an <a href='../class/Engagement.html'>Engagement</a> instance.</p>
</div>
<div class='tags'>
</div>
    </div>
    <div class='event' id='VISITOR_STATUS_UPDATE-event'>
      <p class='signature'>
        VISITOR_STATUS_UPDATE
      </p>
      <div class='docstring'>
  <p>Triggered when the visitor&#39;s status changes. Called with a <a href='../class/VisitorStatus.html'>VisitorStatus</a>
instance.</p><p>Visitor can have multiple concurrent sessions browsing the application.
ENGAGEMENT_START and ENGAGEMENT_END events are only triggered in the
browser session where the engagement was started. These events are not
triggered in any other browser session.</p><p>Other browser sessions may want to hide some parts of the application to
avoid visitor from trying to start an engagement. Only one concurrent
engagement is allowed between a visitor and an operator on one site.
Attempting to establish more than one engagement will fail.</p>
</div>
<div class='tags'>
</div>
    </div>
    <div class='event' id='ENGAGEMENT_REQUEST-event'>
      <p class='signature'>
        ENGAGEMENT_REQUEST
      </p>
      <div class='docstring'>
  <p>Triggered when an operator has requested to start an engagement with the
current visitor.</p>
</div>
<div class='tags'>
</div>
    </div>
    <div class='event' id='OPERATOR_LIST_UPDATE-event'>
      <p class='signature'>
        OPERATOR_LIST_UPDATE
      </p>
      <div class='docstring'>
  <p>Triggered when any of the operators either comes online or goes offline.
Also triggered for every listener immediately when the listener is added.
The event listener will be called with an array of up to date online
<a href='../class/Operator.html'>Operator</a> instances.</p><p>Operator is considered online whenever they are logged into the system.
Thus operator can be unavailable (on a break, engaged with another
Visitor) while still being online.</p>
</div>
<div class='tags'>
</div>
    </div>
    <div class='event' id='OPERATOR_STATUS_UPDATE-event'>
      <p class='signature'>
        OPERATOR_STATUS_UPDATE
      </p>
      <div class='docstring'>
  <p>Triggered when any of the operators&#39; state (availability, media) changes.
The event listener will be called with an updated <a href='../class/Operator.html'>Operator</a> instance.</p>
</div>
<div class='tags'>
</div>
    </div>
    <div class='event' id='CONNECTION_STATUS_UPDATE-event'>
      <p class='signature'>
        CONNECTION_STATUS_UPDATE
      </p>
      <div class='docstring'>
  <p>Triggered when the client either loses or regains the connection to
Glia services which are required for operation. The event listener
will be called with a <a href='../class/ConnectionStatus.html'>ConnectionStatus</a> instance.</p>
</div>
<div class='tags'>
</div>
    </div>
    <div class='event' id='QUEUE_STATE_UPDATE-event'>
      <p class='signature'>
        QUEUE_STATE_UPDATE
      </p>
      <div class='docstring'>
  <p>Visitor is not always able to join the queue. For instance, there might be
cases when there are no operators available or the queue is full (it reached
the maximum length). Therefore visitor needs to be aware of the state of the
queue to take the corresponding action. For more information about the queue
states see <a href='../class/AggregateQueueState.html'>AggregateQueueState</a>.</p><p>The event is triggered whenever the state of the queue changes. Also
triggered for every listener immediately when the listener is added. The
event listener will be called with a <a href='../class/AggregateQueueState.html'>AggregateQueueState</a> instance.</p>
</div>
<div class='tags'>
</div>
    </div>
    <div class='event' id='AUTHENTICATION_REQUEST-event'>
      <p class='signature'>
        AUTHENTICATION_REQUEST
      </p>
      <div class='docstring'>
  <p>Triggered when a new authentication request is added to the visitor&#39;s state.</p>
</div>
<div class='tags'>
</div>
    </div>
  </div>
</div>
        <h2>Property Summary</h2>
        <dl class='properties'>
          <dt id='visitorApp-property'>
            <span class='signature'>
              (VisitorApp)
              <b>
                visitorApp
              </b>
            </span>
          </dt>
          <dd class='desc'>
            <p>
              <p>An object that exposes <a href='../class/VisitorApp.html'>VisitorApp</a> functionality. Can be used to trigger
UI flows programmatically. Note that if no Visitor App is configured for
the site, all <a href='../class/VisitorApp.html'>VisitorApp</a> methods throw a NOT_SUPPORTED
<a href='../class/Error.html'>Error</a>.</p>
            </p>
          </dd>
          <dt id='omnibrowse-property'>
            <span class='signature'>
              (Omnibrowse)
              <b>
                omnibrowse
              </b>
            </span>
          </dt>
          <dd class='desc'>
            <p>
              <p>An object with <a href='../class/Omnibrowse.html'>Omnibrowse</a> (also known as Call Visualizer) specific functionality.</p>
            </p>
          </dd>
          <dt id='omnicall-property'>
            <span class='signature'>
              (Omnicall)
              <b>
                omnicall
              </b>
            </span>
          </dt>
          <dd class='desc'>
            <p>
              <p>An object with <a href='../class/Omnicall.html'>Omnicall</a> (also known as Phone Channels) specific functionality.</p>
            </p>
          </dd>
          <dt id='overseer-property'>
            <span class='signature'>
              (Overseer)
              <b>
                overseer
              </b>
            </span>
          </dt>
          <dd class='desc'>
            <p>
              <p>An object with <a href='../class/Overseer.html'>Overseer</a> (also known as Business Rules) specific functionality.</p>
            </p>
          </dd>
          <dt id='config-property'>
            <span class='signature'>
              (Config)
              <b>
                config
              </b>
            </span>
          </dt>
          <dd class='desc'>
            <p>
              <p>An object with <a href='../class/Config.html'>Config</a> specific properties.</p>
            </p>
          </dd>
        </dl>
        <h2>Variables Summary</h2>
        <dl class='constants'>
  <dt id='ERRORS-variable'>
    ERRORS
    =
  </dt>
  <dd>
    <pre><code>{
  INVALID_INPUT: &#39;invalid input&#39;,
  OPERATOR_UNAVAILABLE: &#39;operator unavailable&#39;,
  INTERNAL_ERROR: &#39;internal error&#39;,
  RESOURCE_NOT_FOUND: &#39;not found&#39;,
  OPERATOR_DECLINED: &#39;operator declined&#39;,
  DECLINE: &#39;decline&#39;,
  CANCEL: &#39;cancel&#39;,
  TIMEOUT: &#39;timeout&#39;,
  NETWORK_TIMEOUT: &#39;network timeout&#39;,
  CONNECTION_LOST: &#39;connection lost&#39;,
  TOO_MANY_REQUESTS: &#39;too many requests&#39;,
  FORBIDDEN: &#39;forbidden&#39;,
  NOT_SUPPORTED: &#39;not supported&#39;,
  DISABLED: &#39;disabled&#39;,
  ALREADY_QUEUED: &#39;already queued&#39;,
  ALREADY_ENGAGED: &#39;already engaged&#39;,
  CONFLICT: &#39;conflict&#39;,
  FILE_TOO_LARGE: &#39;file too large&#39;,
  FILE_CONTENT_TYPE_NOT_ALLOWED: &#39;file content type not allowed&#39;
}</code></pre>
    
  </dd>
  <dt id='EVENTS-variable'>
    EVENTS
    =
  </dt>
  <dd>
    <pre><code>{
  ENGAGEMENT_END: &#39;sm:engagement:end&#39;,
  ENGAGEMENT_START: &#39;sm:engagement:start&#39;,
  VISITOR_STATUS_UPDATE: &#39;sm:visitor_status:update&#39;,
  ENGAGEMENT_REQUEST: &#39;sm:engagement:request&#39;,
  OPERATOR_LIST_UPDATE: &#39;sm:operator_list:update&#39;,
  OPERATOR_STATUS_UPDATE: &#39;sm:operator_status:update&#39;,
  CONNECTION_STATUS_UPDATE: &#39;sm:connection_status:update&#39;,
  QUEUE_STATE_UPDATE: &#39;sm:queue:update&#39;,
  AUTHENTICATION_REQUEST: &#39;sm:authentication:request&#39;
}</code></pre>
    
  </dd>
</dl>
        <h2>Instance Method Summary</h2>
        <ul class='summary'>
  <li>
    <span class='signature'>
      <a href='#addEventListener-dynamic'>
        #
(void)
<b>addEventListener</b><span>(type, listener)</span>
      </a>
    </span>
    <span class='desc'>
      Registers an event listener on the API. 
    </span>
  </li>
  <li>
    <span class='signature'>
      <a href='#removeEventListener-dynamic'>
        #
(void)
<b>removeEventListener</b><span>(type, listener)</span>
      </a>
    </span>
    <span class='desc'>
      Removes an event listener from the API. 
    </span>
  </li>
  <li>
    <span class='signature'>
      <a href='#getRequestHeaders-dynamic'>
        #
(Object)
<b>getRequestHeaders</b><span>()</span>
      </a>
    </span>
    <span class='desc'>
      Returns a hash of the headers and values that are required for the visitor to authenticate with the API.

    </span>
  </li>
  <li>
    <span class='signature'>
      <a href='#getSessionContext-dynamic'>
        #
(String)
<b>getSessionContext</b><span>()</span>
      </a>
    </span>
    <span class='desc'>
      Returns a string representing the visitor and the current tab. 
    </span>
  </li>
  <li>
    <span class='signature'>
      <a href='#getVisitorId-dynamic'>
        #
(String)
<b>getVisitorId</b><span>()</span>
      </a>
    </span>
    <span class='desc'>
      Returns a string representing current sessions visitor ID. 
    </span>
  </li>
  <li>
    <span class='signature'>
      <a href='#getSiteId-dynamic'>
        #
(String)
<b>getSiteId</b><span>()</span>
      </a>
    </span>
    <span class='desc'>
      Returns a string representing current site ID. 
    </span>
  </li>
  <li>
    <span class='signature'>
      <a href='#getBrowserContext-dynamic'>
        #
(Promise)
<b>getBrowserContext</b><span>()</span>
      </a>
    </span>
    <span class='desc'>
      Gets information about browser context. 
    </span>
  </li>
  <li deprecated>
    <span class='signature'>
      <a href='#setupContactOperatorButton-dynamic'>
        #
(void)
<b>setupContactOperatorButton</b><span>(args)</span>
      </a>
    </span>
    <span class='deprecated note title'>Deprecated</span>
    <span class='desc'>
      <strong>Deprecated.</strong>
      Use <a href='../class/Salemove.html#requestEngagement-dynamic'>Salemove#requestEngagement</a> in conjunction with OPERATOR_LIST_UPDATE event to create a custom solution. 
    </span>
  </li>
  <li>
    <span class='signature'>
      <a href='#requestEngagement-dynamic'>
        #
(EngagementRequest)
<b>requestEngagement</b><span>(media, options)</span>
      </a>
    </span>
    <span class='desc'>
      Sends an engagement request. 
    </span>
  </li>
  <li>
    <span class='signature'>
      <a href='#queueForEngagement-dynamic'>
        #
(Promise)
<b>queueForEngagement</b><span>(media, options)</span>
      </a>
    </span>
    <span class='desc'>
      Enqueues the visitor for engagement. 
    </span>
  </li>
  <li>
    <span class='signature'>
      <a href='#getQueueWaitDuration-dynamic'>
        #
(Promise)
<b>getQueueWaitDuration</b><span>()</span>
      </a>
    </span>
    <span class='desc'>
      Gets information about the expected wait time for queued visitors. 
    </span>
  </li>
  <li>
    <span class='signature'>
      <a href='#getQueues-dynamic'>
        #
(Promise)
<b>getQueues</b><span>()</span>
      </a>
    </span>
    <span class='desc'>
      Gets a list of all queues. 
    </span>
  </li>
  <li>
    <span class='signature'>
      <a href='#subscribeToQueueStateUpdates-dynamic'>
        #
(void)
<b>subscribeToQueueStateUpdates</b><span>(queueIds, listener)</span>
      </a>
    </span>
    <span class='desc'>
      Subscribes to state updates of one or multiple queues. 
    </span>
  </li>
  <li>
    <span class='signature'>
      <a href='#requestAsset-dynamic'>
        #
(Promise)
<b>requestAsset</b><span>(path, headers)</span>
      </a>
    </span>
    <span class='desc'>
      Fetches asset on a given URL. 
    </span>
  </li>
  <li>
    <span class='signature'>
      <a href='#leaveMessage-dynamic'>
        #
(Promise)
<b>leaveMessage</b><span>(args)</span>
      </a>
    </span>
    <span class='desc'>
      Leaves a message for the operators. 
    </span>
  </li>
  <li>
    <span class='signature'>
      <a href='#leaveOperatorMessage-dynamic'>
        #
(Promise)
<b>leaveOperatorMessage</b><span>(args)</span>
      </a>
    </span>
    <span class='desc'>
      Leaves a message for the operator. 
    </span>
  </li>
  <li>
    <span class='signature'>
      <a href='#updateInformation-dynamic'>
        #
(Promise)
<b>updateInformation</b><span>()</span>
      </a>
    </span>
    <span class='desc'>
      Updates the current visitor&#39;s information. 
    </span>
  </li>
  <li>
    <span class='signature'>
      <a href='#isInEngagement-dynamic'>
        #
(boolean)
<b>isInEngagement</b><span>()</span>
      </a>
    </span>
    <span class='desc'>
      Finds out if the visitor is currently in an engagement. 
    </span>
  </li>
  <li deprecated>
    <span class='signature'>
      <a href='#willNavigate-dynamic'>
        #
(Promise)
<b>willNavigate</b><span>()</span>
      </a>
    </span>
    <span class='bound note title'>Bound</span>
    <span class='deprecated note title'>Deprecated</span>
    <span class='desc'>
      <strong>Deprecated.</strong>
      This funcionality is no longer needed 
    </span>
  </li>
  <li>
    <span class='signature'>
      <a href='#setIncomingEngagementRequestHandler-dynamic'>
        #
(void)
<b>setIncomingEngagementRequestHandler</b><span>(handler)</span>
      </a>
    </span>
    <span class='desc'>
      Overwrites the handler for incoming engagement requests. 
    </span>
  </li>
  <li>
    <span class='signature'>
      <a href='#setEngagementReestablishHandler-dynamic'>
        #
(void)
<b>setEngagementReestablishHandler</b><span>(handler)</span>
      </a>
    </span>
    <span class='desc'>
      Sets the engagement <a href="../extra/glossary.md.html#reestablishing">re-establishing</a> handler. 
    </span>
  </li>
  <li>
    <span class='signature'>
      <a href='#changeElementAttributesForCobrowsing-dynamic'>
        #
(void)
<b>changeElementAttributesForCobrowsing</b><span>(element, changeElementAttributes)</span>
      </a>
    </span>
    <span class='desc'>
      Changes an element&#39;s attributes when element is mirrored to operator during CoBrowsing. 
    </span>
  </li>
  <li>
    <span class='signature'>
      <a href='#setLocale-dynamic'>
        #
(void)
<b>setLocale</b><span>(locale)</span>
      </a>
    </span>
    <span class='desc'>
      Sets the locale for the Glia Visitor App. 
    </span>
  </li>
  <li>
    <span class='signature'>
      <a href='#createAuthenticationRequest-dynamic'>
        #
(Promise)
<b>createAuthenticationRequest</b><span>(params)</span>
      </a>
    </span>
    <span class='desc'>
      Initiates visitor authentication request. 
    </span>
  </li>
</ul>
        <h2>Instance Method Details</h2>
        <div class='methods'>
  <div class='method_details'>
    <p class='signature' id='addEventListener-dynamic'>
      #
(void)
<b>addEventListener</b><span>(type, listener)</span>
      <br>
    </p>
    <div class='docstring'>
  <p>Registers an event listener on the API.</p><p>If a listener is added while the API is processing an event, it
will be not triggered with the current event.</p><p>If multiple identical listeners are registered on the same event type the
duplicate instances are discarded. They do not cause the listener to be
called twice and do not need to be removed with the removeEventListener
method.</p>
</div>
<div class='tags'>
  <h3>Parameters:</h3>
  <ul class='param'>
    <li>
      <span class='name'>type</span>
      <span class='type'>
        (
          <tt>string</tt>
        )
      </span>
      &mdash;
      <span class='desc'>The event type for which the listener is registering. Must be one of <a href='../class/Salemove.html#EVENTS-variable'>Salemove.EVENTS</a>. </span>
    </li>
    <li>
      <span class='name'>listener</span>
      <span class='type'>
        (
          <tt>function</tt>
        )
      </span>
      &mdash;
      <span class='desc'>The listener function that will be called when the event occurs. </span>
    </li>
  </ul>
</div>
  </div>
  <div class='method_details'>
    <p class='signature' id='removeEventListener-dynamic'>
      #
(void)
<b>removeEventListener</b><span>(type, listener)</span>
      <br>
    </p>
    <div class='docstring'>
  <p>Removes an event listener from the API.</p><p>If an event listener is removed while the API is processing an
event, it will not be triggered with the current event.</p><p>An event listener is never invoked after being removed.</p><p>Calling removeEventListener with arguments which do not identify any
currently registered listener has no effect.</p>
</div>
<div class='tags'>
  <h3>Parameters:</h3>
  <ul class='param'>
    <li>
      <span class='name'>type</span>
      <span class='type'>
        (
          <tt>string</tt>
        )
      </span>
      &mdash;
      <span class='desc'>The event type for which the listener is removed. </span>
    </li>
    <li>
      <span class='name'>listener</span>
      <span class='type'>
        (
          <tt>function</tt>
        )
      </span>
      &mdash;
      <span class='desc'>The event listener to be removed. </span>
    </li>
  </ul>
</div>
  </div>
  <div class='method_details'>
    <p class='signature' id='getRequestHeaders-dynamic'>
      #
(Object)
<b>getRequestHeaders</b><span>()</span>
      <br>
    </p>
    <div class='docstring'>
  <p>Returns a hash of the headers and values that are required for the
visitor to authenticate with the API.</p>
  <div class='examples'>
    <h3>Examples:</h3>
    <h4>
      Making an XHR request with required headers
    </h4>
    <pre><code>sm.getApi({version: &#39;v1&#39;}).then(function(salemove) {
  var xhr = new XMLHttpRequest();
  xhr.open(&#39;GET&#39;, &#39;https:&#47;&#47;api.salemove.com&#47;visitor&#39;);

  var requestHeaders = salemove.getRequestHeaders();
  Object.keys(requestHeaders).forEach(function(key) {
    xhr.setRequestHeader(key, requestHeaders[key]);
  });

  xhr.onload = function() {
    if (xhr.status &gt;= 200 &amp;&amp; xhr.status &lt; 300) {
      &#47;&#47; Handle success
    } else {
      &#47;&#47; Handle negative response from server
    }
  };
  xhr.onerror = function() {
    &#47;&#47; Handle failure
  };
  xhr.send();
});</code></pre>
  </div>
</div>
<div class='tags'>
  <h3>Returns:</h3>
  <ul class='return'>
    <li>
      <span class='type'></span>
      <tt>Object</tt>
    </li>
  </ul>
</div>
  </div>
  <div class='method_details'>
    <p class='signature' id='getSessionContext-dynamic'>
      #
(String)
<b>getSessionContext</b><span>()</span>
      <br>
    </p>
    <div class='docstring'>
  <p>Returns a string representing the visitor and the current tab.</p><p>This function should be used to obtain the visitor session when a visitor
navigates within your domain(s) and Glia is unable to restore the
visitor&#39;s session after navigation. This can occur when the visitor is
redirected from one URL to another and has 3rd party cookies disabled.</p><p>This function should only be used to re-establish across navigations,
re-establishing the context works in a limited timeframe from the moment
it was acquired.</p><p>To re-establish a session, the String acquired from this function must be
specified as &#39;session_context&#39; query parameter in the Glia
integration script.</p><p>This value is specific to the browser tab that it was acquired from. It
must be used in the same tab or in a new tab given that the previous tab
has closed. Having the same context in multiple tabs results in the
previous tab disconnecting from Glia.</p>
  <div class='examples'>
    <h3>Examples:</h3>
    <h4>
      Acquiring session context and re-establishing a session
    </h4>
    <pre><code>sm.getApi({version: &#39;v1&#39;}).then(function(salemove) {
  var sessionContext = salemove.getSessionContext();

  &#47;&#47; The sessionContext value must be carried through your system and
  &#47;&#47; tied to the same visitor tab.
  postFormThatNavigatesVisitor(yourFormData, sessionContext);
});

&#47;&#47; When including Glia integration script for the same visitor on a new page:

&lt;head&gt;
  &lt;script async src=&quot;&#47;&#47;api.salemove.com&#47;salemove_integration.js?session_context=SESSION_CONTEXT_FROM_PREVIOUS_PAGE &#47;&gt;
&lt;&#47;head&gt;</code></pre>
  </div>
</div>
<div class='tags'>
  <h3>Returns:</h3>
  <ul class='return'>
    <li>
      <span class='type'></span>
      (
        <tt>String</tt>
      )
      &mdash;
      <span class='desc'>Opaque string containing visitor session context </span>
    </li>
  </ul>
</div>
  </div>
  <div class='method_details'>
    <p class='signature' id='getVisitorId-dynamic'>
      #
(String)
<b>getVisitorId</b><span>()</span>
      <br>
    </p>
    <div class='docstring'>
  <p>Returns a string representing current sessions visitor ID.</p>
  <div class='examples'>
    <h3>Examples:</h3>
    <h4>
      Acquiring visitor ID
    </h4>
    <pre><code>sm.getApi({version: &#39;v1&#39;}).then(function(glia) {
  console.log(&#39;This visitor ID is &#39; + glia.getVisitorId())
});</code></pre>
  </div>
</div>
<div class='tags'>
  <h3>Returns:</h3>
  <ul class='return'>
    <li>
      <span class='type'></span>
      (
        <tt>String</tt>
      )
      &mdash;
      <span class='desc'>String containing visitor ID. </span>
    </li>
  </ul>
</div>
  </div>
  <div class='method_details'>
    <p class='signature' id='getSiteId-dynamic'>
      #
(String)
<b>getSiteId</b><span>()</span>
      <br>
    </p>
    <div class='docstring'>
  <p>Returns a string representing current site ID.</p>
  <div class='examples'>
    <h3>Examples:</h3>
    <h4>
      Acquiring site ID
    </h4>
    <pre><code>sm.getApi({version: &#39;v1&#39;}).then(function(glia) {
  console.log(&#39;This site ID is &#39; + glia.getSiteId())
});</code></pre>
  </div>
</div>
<div class='tags'>
  <h3>Returns:</h3>
  <ul class='return'>
    <li>
      <span class='type'></span>
      (
        <tt>String</tt>
      )
      &mdash;
      <span class='desc'>String containing site ID. </span>
    </li>
  </ul>
</div>
  </div>
  <div class='method_details'>
    <p class='signature' id='getBrowserContext-dynamic'>
      #
(Promise)
<b>getBrowserContext</b><span>()</span>
      <br>
    </p>
    <div class='docstring'>
  <p>Gets information about browser context.</p><p>Some REST API endpoints need visitor browser context and can take this method&#39;s output directly as their input.
For example: <a href="https://developer.glia.com/site_visitor#update-visitor-information">Update visitor information</a></p><p>Payload must be passed to REST API endpoint unmodified.
The content of the payload is internal for Glia and should not be used for any other purpose.
It might change in future versions of API.</p>
  <div class='examples'>
    <h3>Examples:</h3>
    <h4>
      Acquiring browser context
    </h4>
    <pre><code>sm.getApi({version: &#39;v1&#39;}).then(function(glia) {
  glia.getBrowserContext().then(function(context) {
    forwardToBackendForVisitorInformationUpdate(glia.getVisitorId(), glia.getSiteId(), context)
  });
});</code></pre>
  </div>
</div>
<div class='tags'>
  <h3>Returns:</h3>
  <ul class='return'>
    <li>
      <span class='type'></span>
      (
        <tt>Promise</tt>
      )
      &mdash;
      <span class='desc'>Fulfilled with an object containing browser information. </span>
    </li>
  </ul>
</div>
  </div>
  <div class='method_details'>
    <p class='signature' id='setupContactOperatorButton-dynamic'>
      #
(void)
<b>setupContactOperatorButton</b><span>(args)</span>
      <br>
    </p>
    <div class='docstring'>
  <div class='deprecated note'>
    <strong>Deprecated.</strong>
    Use <a href='../class/Salemove.html#requestEngagement-dynamic'>Salemove#requestEngagement</a> in conjunction with OPERATOR_LIST_UPDATE event to create a custom solution. 
  </div>
  <p>Sets up a custom button for contacting an operator.</p>
</div>
<div class='tags'>
  <h3>Parameters:</h3>
  <ul class='param'>
    <li>
      <span class='name'>args</span>
      <span class='type'>
        (
          <tt>Object</tt>
        )
      </span>
    </li>
  </ul>
  <h3>
    Options Hash:
    (args):
  </h3>
  <ul class='options'>
    <li>
      <span class='name'>withOperatorsHtml</span>
      <span class='type'>
        (
          <tt>string</tt>
        )
      </span>
      &mdash;
      <span class='desc'>The HTML to use to override the default button visuals when there is at least one operator available. If an empty string is provided then nothing will be shown. </span>
    </li>
    <li>
      <span class='name'>withoutOperatorsHtml</span>
      <span class='type'>
        (
          <tt>string</tt>
        )
      </span>
      &mdash;
      <span class='desc'>The HTML to use to override the default button visuals when there are no operators available. If an empty string is provided then nothing will be shown. </span>
    </li>
    <li>
      <span class='name'>withoutOperatorsCallback</span>
      <span class='type'>
        (
          <tt>function</tt>
        )
      </span>
      &mdash;
      <span class='desc'>The function to call when the button is clicked while there are no available operators. </span>
    </li>
  </ul>
</div>
  </div>
  <div class='method_details'>
    <p class='signature' id='requestEngagement-dynamic'>
      #
(EngagementRequest)
<b>requestEngagement</b><span>(media, options)</span>
      <br>
    </p>
    <div class='docstring'>
  <p>Sends an engagement request.</p>
  <div class='examples'>
    <h3>Examples:</h3>
    <h4>
      Requesting a &#39;text&#39; engagement
    </h4>
    <pre><code>sm.getApi({version: &#39;v1&#39;}).then(function(salemove) {
  var engagementRequest = salemove.requestEngagement(&#39;text&#39;);
  engagementRequest.engagementPromise.then(function(engagement) {
    ...
  }).catch(function(error) {
    if (error.cause === salemove.ERRORS.OPERATOR_DECLINED) {
      ...
    } else {
      ...
    }
  });
});</code></pre>
  </div>
</div>
<div class='tags'>
  <h3>Parameters:</h3>
  <ul class='param'>
    <li>
      <span class='name'>media</span>
      <span class='type'>
        (
          <tt>string</tt>
        )
      </span>
      &mdash;
      <span class='desc'>The starting media for the engagement. Must be one of <a href='../class/Engagement.html#MEDIA_TYPES-variable'>Engagement.MEDIA_TYPES</a>. </span>
    </li>
    <li>
      <span class='name'>options</span>
      <span class='type'>
        (
          <tt>Object</tt>
        )
      </span>
    </li>
  </ul>
  <h3>
    Options Hash:
    (options):
  </h3>
  <ul class='options'>
    <li>
      <span class='name'>phoneNumber</span>
      <span class='type'>
        (
          <tt>?string</tt>
        )
      </span>
      &mdash;
      <span class='desc'>The visitor&#39;s phone number in <a href="../extra/glossary.md.html#phone-numbers">E.164 format</a> to use when starting media is &#39;phone&#39;. </span>
    </li>
    <li>
      <span class='name'>phoneExtension</span>
      <span class='type'>
        (
          <tt>?string</tt>
        )
      </span>
      &mdash;
      <span class='desc'>The visitor&#39;s phone number extension, which can contain commas and up to 7 digits. The commas represent a two second wait between digits. This will be used when starting media is &#39;phone&#39;. </span>
    </li>
    <li>
      <span class='name'>oneWay</span>
      <span class='type'>
        (
          <tt>?boolean</tt>
        )
      </span>
      &mdash;
      <span class='desc'>When set to true, only the operator will have the requested media, while the visitor&#39;s media will be &#39;text&#39;. This option is invalid if the specified media is &#39;text&#39;, &#39;audio&#39; or &#39;phone&#39;. See also: <a href="../extra/glossary.md.html#one-way">One-Way</a>. </span>
    </li>
    <li>
      <span class='name'>operatorId</span>
      <span class='type'>
        (
          <tt>?string</tt>
        )
      </span>
      &mdash;
      <span class='desc'>The ID of the operator to engage. </span>
    </li>
  </ul>
  <h3>Returns:</h3>
  <ul class='return'>
    <li>
      <span class='type'></span>
      (
        <tt><a href='../class/EngagementRequest.html'>EngagementRequest</a></tt>
      )
      &mdash;
      <span class='desc'>The engagement request. </span>
    </li>
  </ul>
</div>
  </div>
  <div class='method_details'>
    <p class='signature' id='queueForEngagement-dynamic'>
      #
(Promise)
<b>queueForEngagement</b><span>(media, options)</span>
      <br>
    </p>
    <div class='docstring'>
  <p>Enqueues the visitor for engagement.</p><p>On high-traffic sites, visitors looking for engagements can greatly
outnumber the available operators. To be able to still provide best
possible user experience under these circumstances, Glia provides a
way for visitors to queue for engagements. Visitors who have entered the
queue will, in turn, be engaged with an appropriate operator as soon as
one becomes available.</p><p>See the <a href="#content"><strong>Allow visitors to queue for engagements</strong> example</a>
above to see how to use this method in combination with the
<a href="#QUEUE_STATE_UPDATE-event">QUEUE_STATE_UPDATE events</a> to build a
complete flow.</p><p>The returned Promise will be rejected with cause DISABLED if queuing is
disabled for the current site. Whether queuing is enabled can be checked
from <a href="Config.html#queuingEnabled-property">Config.queuingEnabled</a>.</p>
</div>
<div class='tags'>
  <h3>Parameters:</h3>
  <ul class='param'>
    <li>
      <span class='name'>media</span>
      <span class='type'>
        (
          <tt>string</tt>
        )
      </span>
      &mdash;
      <span class='desc'>The starting media for the engagement. Must be one of <a href='../class/Engagement.html#MEDIA_TYPES-variable'>Engagement.MEDIA_TYPES</a>. Currently acceptable values are available through <a href="AggregateQueueState.html#medias-property">AggregateQueueState.medias</a>, where the current <a href='../class/AggregateQueueState.html'>AggregateQueueState</a> instance is available through <a href="#QUEUE_STATE_UPDATE-event">QUEUE_STATE_UPDATE events</a>. If the provided value is not included in current <a href="AggregateQueueState.html#medias-property">AggregateQueueState.medias</a>, then the returned Promise will be rejected with cause INVALID_INPUT. </span>
    </li>
    <li>
      <span class='name'>options</span>
      <span class='type'>
        (
          <tt>Object</tt>
        )
      </span>
    </li>
  </ul>
  <h3>
    Options Hash:
    (options):
  </h3>
  <ul class='options'>
    <li>
      <span class='name'>phoneNumber</span>
      <span class='type'>
        (
          <tt>?string</tt>
        )
      </span>
      &mdash;
      <span class='desc'>The visitor&#39;s phone number in <a href="../extra/glossary.md.html#phone-numbers">E.164 format</a> to use when starting media is &#39;phone&#39;. </span>
    </li>
    <li>
      <span class='name'>phoneExtension</span>
      <span class='type'>
        (
          <tt>?string</tt>
        )
      </span>
      &mdash;
      <span class='desc'>The visitor&#39;s phone number extension, which can contain commas and up to 7 digits. The commas represent a two second wait between digits. This will be used when starting media is &#39;phone&#39;. </span>
    </li>
    <li>
      <span class='name'>oneWay</span>
      <span class='type'>
        (
          <tt>?boolean</tt>
        )
      </span>
      &mdash;
      <span class='desc'>When true, only the operator will have the requested media, while the visitor&#39;s media will be &#39;text&#39;. This option is invalid if the specified media is &#39;text&#39;, &#39;audio&#39; or &#39;phone&#39;. See also: <a href="../extra/glossary.md.html#one-way">One-Way</a>. </span>
    </li>
    <li>
      <span class='name'>queueId</span>
      <span class='type'>
        (
          <tt>?string</tt>
        )
      </span>
      &mdash;
      <span class='desc'>When given an ID representing an existing queue for the current site, the visitor will be queued in the specified queue. This is useful when a site has several queues staffed by different teams. The media parameter provided must be one of the media types available for the provided queue. The promise will be rejected with <a href='../class/AlreadyQueuedError.html'>AlreadyQueuedError</a> if consecutive requests differ in the provided queue ID or media selection. </span>
    </li>
  </ul>
  <h3>Returns:</h3>
  <ul class='return'>
    <li>
      <span class='type'></span>
      (
        <tt>Promise</tt>
      )
      &mdash;
      <span class='desc'>Fulfilled with an empty object or rejected with an <a href='../class/Error.html'>Error</a> if the process fails for any reason. The <a href='../class/Error.html'>Error</a> may have one of the following causes: INVALID_INPUT, DISABLED, INTERNAL_ERROR, ALREADY_QUEUED, NETWORK_TIMEOUT, FORBIDDEN </span>
    </li>
  </ul>
</div>
  </div>
  <div class='method_details'>
    <p class='signature' id='getQueueWaitDuration-dynamic'>
      #
(Promise)
<b>getQueueWaitDuration</b><span>()</span>
      <br>
    </p>
    <div class='docstring'>
  <p>Gets information about the expected wait time for queued visitors.</p><p>This information gives visitors an idea of how long they will likely have
to wait after <a href='../class/Salemove.html#queueForEngagement-dynamic'>queuing for engagement</a> before
they will be engaged with an operator.</p><p>The returned Promise will be rejected with cause DISABLED if queuing is
disabled for the current site. Whether queuing is enabled can be checked
from <a href="Config.html#queuingEnabled-property">Config.queuingEnabled</a>.</p>
</div>
<div class='tags'>
  <h3>Returns:</h3>
  <ul class='return'>
    <li>
      <span class='type'></span>
      (
        <tt>Promise</tt>
      )
      &mdash;
      <span class='desc'>Fulfilled with a <a href='../class/QueueWaitDuration.html'>QueueWaitDuration</a> instance or rejected with an <a href='../class/Error.html'>Error</a> if the process fails for any reason. The <a href='../class/Error.html'>Error</a> may have one of the following causes: DISABLED, INTERNAL_ERROR, NETWORK_TIMEOUT </span>
    </li>
  </ul>
</div>
  </div>
  <div class='method_details'>
    <p class='signature' id='getQueues-dynamic'>
      #
(Promise)
<b>getQueues</b><span>()</span>
      <br>
    </p>
    <div class='docstring'>
  <p>Gets a list of all queues.</p><p>This information can be used to subscribe to queue state
updates using <a href='../class/Salemove.html#subscribeToQueueStateUpdates-dynamic'>Salemove#subscribeToQueueStateUpdates</a>
or to enqueue by queue ID using <a href='../class/Salemove.html#queueForEngagement-dynamic'>Salemove#queueForEngagement</a>.</p><p>The returned Promise will be rejected with cause DISABLED if queuing is
disabled for the current site. Whether queuing is enabled can be checked
from <a href="Config.html#queuingEnabled-property">Config.queuingEnabled</a>.</p>
</div>
<div class='tags'>
  <h3>Returns:</h3>
  <ul class='return'>
    <li>
      <span class='type'></span>
      (
        <tt>Promise</tt>
      )
      &mdash;
      <span class='desc'>Fulfilled with an array of <a href='../class/Queue.html'>Queue</a> instances or rejected with an <a href='../class/Error.html'>Error</a> if the process fails for any reason. The <a href='../class/Error.html'>Error</a> may have one of the following causes: DISABLED, FORBIDDEN, INTERNAL_ERROR, NETWORK_TIMEOUT </span>
    </li>
  </ul>
</div>
  </div>
  <div class='method_details'>
    <p class='signature' id='subscribeToQueueStateUpdates-dynamic'>
      #
(void)
<b>subscribeToQueueStateUpdates</b><span>(queueIds, listener)</span>
      <br>
    </p>
    <div class='docstring'>
  <p>Subscribes to state updates of one or multiple queues.</p><p>Compared to <a href="#QUEUE_STATE_UPDATE-event">QUEUE_STATE_UPDATE event</a>, which provides
<a href='../class/AggregateQueueState.html'>AggregateQueueState</a> updates, this allows to subscribe to queue state updates of a specific queue.
This can be useful when there is a need to have multiple integration points, for example buttons,
corresponding to different queues.</p>
  <div class='examples'>
    <h3>Examples:</h3>
    <h4>
      Subscribing to all queues state updates
    </h4>
    <pre><code>salemove.getQueues().then(function(queues) {
  var queueIds = queues.map(function(queue) {
    return queue.id;
  });
  salemove.subscribeToQueueStateUpdates(queueIds, function(queue) {
    var button = findButtonByQueue(queue.id);
    if (queue.state.status === queue.state.STATUSES.OPEN) {
      updateQueueButtonMedia(queue.state.medias);
      showQueueButton(button);
    } else {
      hideQueueButton(button);
    }
  })
});</code></pre>
  </div>
</div>
<div class='tags'>
  <h3>Parameters:</h3>
  <ul class='param'>
    <li>
      <span class='name'>-</span>
      <span class='type'>
        (
          <tt>string[]</tt>
        )
      </span>
      &mdash;
      <span class='desc'>Non-empty list of the IDs of the queues to subscribe to. </span>
    </li>
    <li>
      <span class='name'>listener</span>
      <span class='type'>
        (
          <tt>function</tt>
        )
      </span>
      &mdash;
      <span class='desc'>The listener function that is called when a queue state update occurs. The listener is called with the updated <a href='../class/Queue.html'>Queue</a> instance. </span>
    </li>
  </ul>
  <h3>Throws:</h3>
  <ul class='throw'>
    <li>
      <span class='type'></span>
      (
        <tt><a href='../class/Error.html'>Error</a></tt>
      )
      &mdash;
      <span class='desc'>An <a href='../class/Error.html'>Error</a> with INPUT_ERROR cause is thrown if the provided params are invalid or undefined. </span>
    </li>
  </ul>
</div>
  </div>
  <div class='method_details'>
    <p class='signature' id='requestAsset-dynamic'>
      #
(Promise)
<b>requestAsset</b><span>(path, headers)</span>
      <br>
    </p>
    <div class='docstring'>
  <p>Fetches asset on a given URL.</p><p>This can be used to fetch various files such as engagement files
that are not publicly accessible and need visitor access tokens to
be accessed.</p>
</div>
<div class='tags'>
  <h3>Parameters:</h3>
  <ul class='param'>
    <li>
      <span class='name'>-</span>
      <span class='type'>
        (
          <tt>string</tt>
        )
      </span>
      &mdash;
      <span class='desc'>Absolute path to the asset. </span>
    </li>
    <li>
      <span class='name'>-</span>
      <span class='type'>
        (
          <tt>Object</tt>
        )
      </span>
      &mdash;
      <span class='desc'>Request headers, overrides default headers. </span>
    </li>
  </ul>
  <h3>Returns:</h3>
  <ul class='return'>
    <li>
      <span class='type'></span>
      (
        <tt>Promise</tt>
      )
      &mdash;
      <span class='desc'>Fulfilled with a {Blob} object or rejected with an <a href='../class/Error.html'>Error</a> if the process fails for any reason. The <a href='../class/Error.html'>Error</a> may have one of the following causes: INVALID_INPUT, INTERNAL_ERROR, NETWORK_TIMEOUT. </span>
    </li>
  </ul>
</div>
  </div>
  <div class='method_details'>
    <p class='signature' id='leaveMessage-dynamic'>
      #
(Promise)
<b>leaveMessage</b><span>(args)</span>
      <br>
    </p>
    <div class='docstring'>
  <p>Leaves a message for the operators.</p><p>This message will be included in <code>inbox_message</code> exports.</p><p>Either phone or email must be specified.</p>
</div>
<div class='tags'>
  <h3>Parameters:</h3>
  <ul class='param'>
    <li>
      <span class='name'>args</span>
      <span class='type'>
        (
          <tt>Object</tt>
        )
      </span>
    </li>
  </ul>
  <h3>
    Options Hash:
    (args):
  </h3>
  <ul class='options'>
    <li>
      <span class='name'>name</span>
      <span class='type'>
        (
          <tt>?string</tt>
        )
      </span>
      &mdash;
      <span class='desc'>A name to include in the message. </span>
    </li>
    <li>
      <span class='name'>phone</span>
      <span class='type'>
        (
          <tt>?string</tt>
        )
      </span>
      &mdash;
      <span class='desc'>A phone number to include in the message. </span>
    </li>
    <li>
      <span class='name'>email</span>
      <span class='type'>
        (
          <tt>?string</tt>
        )
      </span>
      &mdash;
      <span class='desc'>An email address to include in the message. </span>
    </li>
    <li>
      <span class='name'>message</span>
      <span class='type'>
        (
          <tt>?string</tt>
        )
      </span>
      &mdash;
      <span class='desc'>The text body of the message. </span>
    </li>
  </ul>
  <h3>Returns:</h3>
  <ul class='return'>
    <li>
      <span class='type'></span>
      (
        <tt>Promise</tt>
      )
      &mdash;
      <span class='desc'>Fulfilled with an empty object or rejected with an <a href='../class/Error.html'>Error</a> if the process fails for any reason. The <a href='../class/Error.html'>Error</a> may have one of the following causes: INVALID_INPUT, INTERNAL_ERROR, NETWORK_TIMEOUT. </span>
    </li>
  </ul>
</div>
  </div>
  <div class='method_details'>
    <p class='signature' id='leaveOperatorMessage-dynamic'>
      #
(Promise)
<b>leaveOperatorMessage</b><span>(args)</span>
      <br>
    </p>
    <div class='docstring'>
  <p>Leaves a message for the operator.</p><p>This message will be included in <code>operator_message</code> exports.</p><p>Operator ID and either phone or email must be specified.</p>
</div>
<div class='tags'>
  <h3>Parameters:</h3>
  <ul class='param'>
    <li>
      <span class='name'>args</span>
      <span class='type'>
        (
          <tt>Object</tt>
        )
      </span>
    </li>
  </ul>
  <h3>
    Options Hash:
    (args):
  </h3>
  <ul class='options'>
    <li>
      <span class='name'>operatorId</span>
      <span class='type'>
        (
          <tt>string</tt>
        )
      </span>
      &mdash;
      <span class='desc'>The ID of the operator who will receive the message. </span>
    </li>
    <li>
      <span class='name'>name</span>
      <span class='type'>
        (
          <tt>?string</tt>
        )
      </span>
      &mdash;
      <span class='desc'>A name to include in the message. </span>
    </li>
    <li>
      <span class='name'>phone</span>
      <span class='type'>
        (
          <tt>?string</tt>
        )
      </span>
      &mdash;
      <span class='desc'>A phone number to include in the message. </span>
    </li>
    <li>
      <span class='name'>email</span>
      <span class='type'>
        (
          <tt>?string</tt>
        )
      </span>
      &mdash;
      <span class='desc'>An email address to include in the message. </span>
    </li>
    <li>
      <span class='name'>message</span>
      <span class='type'>
        (
          <tt>?string</tt>
        )
      </span>
      &mdash;
      <span class='desc'>The text body of the message. </span>
    </li>
  </ul>
  <h3>Returns:</h3>
  <ul class='return'>
    <li>
      <span class='type'></span>
      (
        <tt>Promise</tt>
      )
      &mdash;
      <span class='desc'>Fulfilled with an empty object or rejected with an <a href='../class/Error.html'>Error</a> if the process fails for any reason. The <a href='../class/Error.html'>Error</a> may have one of the following causes: INVALID_INPUT, INTERNAL_ERROR, NETWORK_TIMEOUT. </span>
    </li>
  </ul>
</div>
  </div>
  <div class='method_details'>
    <p class='signature' id='updateInformation-dynamic'>
      #
(Promise)
<b>updateInformation</b><span>()</span>
      <br>
    </p>
    <div class='docstring'>
  <p>Updates the current visitor&#39;s information.</p><p>The information provided by this endpoint is available to all the
operators observing or interacting with the visitor. This means that this
endpoint can be used to provide additional context about the visitor to
all the operators. For example, if a visitor is logged into the current site
and their name and email are recorded on their profile, then taking the
data from the profile and passing it into this endpoint helps the
operators see the real names and emails of every logged in visitor even
before they start a conversation.</p><p>In a similar manner custom attributes can be used to provide
additional context. For example, if your site separates paying users from
free users, then setting a custom attribute of &#39;user_type&#39; with a value
of either &#39;free&#39; or &#39;paying&#39; depending on the visitor&#39;s account can
help operators prioritize different visitors.</p>
  <div class='examples'>
    <h3>Examples:</h3>
    <h4>
      Updating visitor&#39;s phone and custom attribute &quot;source&quot;
    </h4>
    <pre><code>sm.getApi({version: &#39;v1&#39;}).then(function(glia) {
  glia.updateInformation({
    phone: &#39;+10000000000&#39;,
    customAttributes: {
      source: &#39;search&#39; &#47;&#47;only attribute &quot;source&quot; will remain
    }
  }).then(function() {
    ...
  }).catch(function(error) {
    if (error.cause == glia.ERRORS.NETWORK_TIMEOUT) {
      ...
    } else {
      ...
    }
  });
});</code></pre>
    <h4>
      Updating visitor&#39;s custom attribute &quot;vip&quot; without changing others
    </h4>
    <pre><code>sm.getApi({version: &#39;v1&#39;}).then(function(glia) {
  glia.updateInformation({
    customAttributesUpdateMethod: &#39;merge&#39;,
    customAttributes: {
      vip: &#39;true&#39;
    }
  }).then(function() {
    ...
  }).catch(function(error) {
    if (error.cause == glia.ERRORS.NETWORK_TIMEOUT) {
      ...
    } else {
      ...
    }
  });
});</code></pre>
  </div>
</div>
<div class='tags'>
  <h3>Parameters:</h3>
  <ul class='param'>
    <li>
      <span class='name'>args</span>
      <span class='type'>
        (
          <tt>Object</tt>
        )
      </span>
    </li>
  </ul>
  <h3>
    Options Hash:
    (args):
  </h3>
  <ul class='options'>
    <li>
      <span class='name'>name</span>
      <span class='type'>
        (
          <tt>?string</tt>
        )
      </span>
      &mdash;
      <span class='desc'>The visitor&#39;s name. </span>
    </li>
    <li>
      <span class='name'>phone</span>
      <span class='type'>
        (
          <tt>?string</tt>
        )
      </span>
      &mdash;
      <span class='desc'>The visitor&#39;s phone number. </span>
    </li>
    <li>
      <span class='name'>email</span>
      <span class='type'>
        (
          <tt>?string</tt>
        )
      </span>
      &mdash;
      <span class='desc'>The visitor&#39;s email address. </span>
    </li>
    <li>
      <span class='name'>note</span>
      <span class='type'>
        (
          <tt>?string</tt>
        )
      </span>
      &mdash;
      <span class='desc'>Notes related to the visitor. </span>
    </li>
    <li>
      <span class='name'>customAttributes</span>
      <span class='type'>
        (
          <tt>?Object</tt>
        )
      </span>
      &mdash;
      <span class='desc'>An object with custom key-value pairs to be assigned to the visitor. The server treats all keys and values as strings and also returns them as strings. Nested key-value pairs are not supported. </span>
    </li>
    <li>
      <span class='name'>customAttributesUpdateMethod</span>
      <span class='type'>
        (
          <tt>?string</tt>
        )
      </span>
      &mdash;
      <span class='desc'>How custom attributes are updated. When set to &#39;replace&#39; (or unspecified), all existing custom attributes are overwritten with the attributes in customAttributes. When set to &#39;merge&#39;, only attributes present in customAttributes are added or updated. In case of <code>merge</code> it is possible to remove a custom attribute by setting its value to <code>null</code>. </span>
    </li>
    <li>
      <span class='name'>externalId</span>
      <span class='type'>
        (
          <tt>?string</tt>
        )
      </span>
      &mdash;
      <span class='desc'>The visitor&#39;s unique identifier in scope of the current site. Valuable information about the current visitor may often be available in CRMs and other systems external to Glia. This field allows matching the visitor to their record in such CRMs and other external systems. For example, a visitor can have an ID within Salesforce. By setting the &#39;external_id&#39; to the current visitor&#39;s Salesforce ID, they can easily be matched to their record within Salesforce. </span>
    </li>
  </ul>
  <h3>Returns:</h3>
  <ul class='return'>
    <li>
      <span class='type'></span>
      (
        <tt>Promise</tt>
      )
      &mdash;
      <span class='desc'>Fulfilled with an empty object or rejected with an <a href='../class/Error.html'>Error</a> if the process fails for any reason. The <a href='../class/Error.html'>Error</a> may have one of the following causes: INVALID_INPUT, TOO_MANY_REQUESTS, INTERNAL_ERROR, NETWORK_TIMEOUT. </span>
    </li>
  </ul>
</div>
  </div>
  <div class='method_details'>
    <p class='signature' id='isInEngagement-dynamic'>
      #
(boolean)
<b>isInEngagement</b><span>()</span>
      <br>
    </p>
    <div class='docstring'>
  <p>Finds out if the visitor is currently in an engagement.</p>
</div>
<div class='tags'>
  <h3>Returns:</h3>
  <ul class='return'>
    <li>
      <span class='type'></span>
      (
        <tt>boolean</tt>
      )
      &mdash;
      <span class='desc'>true if the visitor is in engagement, false otherwise. </span>
    </li>
  </ul>
</div>
  </div>
  <div class='method_details'>
    <p class='signature' id='willNavigate-dynamic'>
      #
(Promise)
<b>willNavigate</b><span>()</span>
      <span class='bound note'>Bound</span>
      <br>
    </p>
    <div class='docstring'>
  <div class='deprecated note'>
    <strong>Deprecated.</strong>
    This funcionality is no longer needed 
  </div>
  <p>Notifies Glia platform of an upcoming navigation with intention to return.</p>
</div>
<div class='tags'>
  <h3>Returns:</h3>
  <ul class='return'>
    <li>
      <span class='type'></span>
      (
        <tt>Promise</tt>
      )
      &mdash;
      <span class='desc'>Fulfilled with an empty object. </span>
    </li>
  </ul>
</div>
  </div>
  <div class='method_details'>
    <p class='signature' id='setIncomingEngagementRequestHandler-dynamic'>
      #
(void)
<b>setIncomingEngagementRequestHandler</b><span>(handler)</span>
      <br>
    </p>
    <div class='docstring'>
  <p>Overwrites the handler for incoming engagement requests.</p>
  <div class='examples'>
    <h3>Examples:</h3>
    <h4>
      Handling an incoming request
    </h4>
    <pre><code>sm.getApi({version: &#39;v1&#39;}).then(function(salemove) {
  salemove.setIncomingEngagementRequestHandler(function(request) {
    promptUserToAcceptOrDeclineEngagement(request.timeout).then(function(accepted) {
      if accepted {
        return request.accept()
      } else {
        return request.decline().then(function() {
          return Promise.reject(&#39;User declined.&#39;);
        });
      }
    }).then(function() {
      return promptUserToSelectMedia();
    }).then(function(mediaSelection) {
      if mediaSelection.canceled {
        return request.decline().then(function() {
          return Promise.reject(&#39;User declined during media selection.&#39;);
        });
      } else {
        return request.selectMedia(mediaSelection.media, mediaSelection.options);
      }
    }).then(function() {
      return request.engagementPromise;
    }).then(function(engagement) {
      ...
    }).catch(function(error) {
      if (error.cause === salemove.ERRORS.TIMEOUT) {
        ...
      } else {
        ...
      }
    });
  });
});

function promptUserToAcceptOrDeclineEngagement(timeout) {
  var accepted = true;
  return Promise.resolve(accepted);
}

function promptUserToSelectMedia() {
  return Promise.resolve({
    canceled: false,
    media: &#39;phone&#39;,
    options: {
      phoneNumber: &#39;+12168675309&#39;,
      phoneExtension: &#39;1,23&#39;
    }
  });
}</code></pre>
  </div>
</div>
<div class='tags'>
  <h3>Parameters:</h3>
  <ul class='param'>
    <li>
      <span class='name'>handler</span>
      <span class='type'>
        (
          <tt>function</tt>
        )
      </span>
      &mdash;
      <span class='desc'>The handler to use for incoming engagement requests. When an operator sends a request this handler will be called with a single argument. The argument is an <a href='../class/IncomingEngagementRequest.html'>IncomingEngagementRequest</a>. See the documentation for <a href='../class/IncomingEngagementRequest.html'>IncomingEngagementRequest</a> for instructions on using it. </span>
    </li>
  </ul>
</div>
  </div>
  <div class='method_details'>
    <p class='signature' id='setEngagementReestablishHandler-dynamic'>
      #
(void)
<b>setEngagementReestablishHandler</b><span>(handler)</span>
      <br>
    </p>
    <div class='docstring'>
  <p>Sets the engagement <a href="../extra/glossary.md.html#reestablishing">re-establishing</a> handler.</p><p>This method provides a way to control what happens when an engagement has
been re-established. It is suggested that this handler is set immediately
on every page load. As engagements are always re-established shortly after
page load then setting this handler immediately helps ensure the correct
behavior for every engagement re-establish.</p><p>The engagement will still be re-established even if no handler is set.
However, not setting an handler to give visual feedback to the visitor
about the ongoing engagement may create a bad user experience for the
visitor.</p>
  <div class='examples'>
    <h3>Examples:</h3>
    <h4>
      Adding an sm-engaged-operator widget onto the page after an engagement has been re-established
    </h4>
    <pre><code>sm.getApi({version: &#39;v1&#39;}).then(function(salemove) {
  salemove.setEngagementReestablishHandler(function(engagement) {
    var engagedOperator = document.createElement(&#39;sm-engaged-operator&#39;);
    document.body.appendChild(engagedOperator);
  });
});</code></pre>
  </div>
</div>
<div class='tags'>
  <h3>Parameters:</h3>
  <ul class='param'>
    <li>
      <span class='name'>handler</span>
      <span class='type'>
        (
          <tt>function</tt>
        )
      </span>
      &mdash;
      <span class='desc'>The handler to use when re-establishing engagement. When engagement has been re-established, this handler will be called with a single argument. The argument is an <a href='../class/Engagement.html'>Engagement</a>. </span>
    </li>
  </ul>
</div>
  </div>
  <div class='method_details'>
    <p class='signature' id='changeElementAttributesForCobrowsing-dynamic'>
      #
(void)
<b>changeElementAttributesForCobrowsing</b><span>(element, changeElementAttributes)</span>
      <br>
    </p>
    <div class='docstring'>
  <p>Changes an element&#39;s attributes when element is mirrored to operator during CoBrowsing.</p><p>Before the element is mirrored to the operator and after every change to
the element&#39;s attributes, changeElementAttributes will be called with the
attributes of the element. The element that is mirrored in the operator&#39;s
CoBrowsing area will have the exactly the attributes of
changeElementAttributes return value. The element&#39;s attributes will not
be changed in the visitor&#39;s browser.</p><p>Every element can only have one attribute change function associated with
it. When this function is called multiple times with the same element,
the attributes that were received from previous changeElementAttributes
are discarded and the new changeElementAttributes return value is used
instead. If this function is called during CoBrowsing, the changed
element attributes are immediately propagated to the operator&#39;s
CoBrowsing area using the new function.</p><p>If an element no longer needs to be changed for CoBrowsing, the identity
function can be passed as changeElementAttributes.</p><pre><code class="lang-javascript">salemove.changeElementAttributesForCobrowsing(element, function(attributes) {
 return attributes;
});
</code></pre>

  <div class='examples'>
    <h3>Examples:</h3>
    <h4>
      Display a placeholder iframe instead of a payment iframe in the operator CoBrowsing area
    </h4>
    <pre><code>sm.getApi({version: &#39;v1&#39;}).then(function(salemove) {
  salemove.changeElementAttributesForCobrowsing(paymentIframe, function(attributes) {
    attributes.src = attributes.src.replace(&quot;payment.html&quot;, &quot;payment-placeholder.html&quot;);
    return attributes;
  );
);</code></pre>
  </div>
</div>
<div class='tags'>
  <h3>Parameters:</h3>
  <ul class='param'>
    <li>
      <span class='name'>element</span>
      <span class='type'>
        (
          <tt>Element</tt>
        )
      </span>
      &mdash;
      <span class='desc'>A DOM element which will be changed using changeElementAttributes when it gets mirrored to operator browser. </span>
    </li>
    <li>
      <span class='name'>changeElementAttributes</span>
      <span class='type'>
        (
          <tt>function</tt>
        )
      </span>
      &mdash;
      <span class='desc'>A function that is called when the element is mirrored to operator&#39;s CoBrowsing area. This function is called with a single argument which is an ordinary JavaScript object which enumerates current attributes of the specified element. The return value of changeElementAttributes is used as the element attributes when the element is mirrored to operator&#39;s CoBrowsing area. </span>
    </li>
  </ul>
</div>
  </div>
  <div class='method_details'>
    <p class='signature' id='setLocale-dynamic'>
      #
(void)
<b>setLocale</b><span>(locale)</span>
      <br>
    </p>
    <div class='docstring'>
  <p>Sets the locale for the Glia Visitor App.</p><p>Upon initialization the Visitor App is set to the default locale configured
for the site. This function can be used to change the locale of the Visitor App
at any time after initialization.</p>
</div>
<div class='tags'>
  <h3>Parameters:</h3>
  <ul class='param'>
    <li>
      <span class='name'>locale</span>
      <span class='type'>
        (
          <tt>string</tt>
        )
      </span>
      &mdash;
      <span class='desc'>The locale to which to switch the Visitor App. The parameter provided needs to be a valid locale key. For base locales this is one of: <code>en-US</code>, <code>de-DE</code>, <code>es-MX</code>, <code>et-EE</code>, <code>fi-FI</code>, <code>fr-CA</code>, <code>zh-CN</code>, <code>zh-TW</code>. For custom locales it is the locale key that you have defined. </span>
    </li>
  </ul>
  <h3>Throws:</h3>
  <ul class='throw'>
    <li>
      <span class='type'></span>
      (
        <tt><a href='../class/Error.html'>Error</a></tt>
      )
      &mdash;
      <span class='desc'>An <a href='../class/Error.html'>Error</a> with INPUT_ERROR cause is thrown if the provided locale is not supported. </span>
    </li>
  </ul>
</div>
  </div>
  <div class='method_details'>
    <p class='signature' id='createAuthenticationRequest-dynamic'>
      #
(Promise)
<b>createAuthenticationRequest</b><span>(params)</span>
      <br>
    </p>
    <div class='docstring'>
  <p>Initiates visitor authentication request.</p><p>Virtual assistants use the authentication request message to initiate
the visitor authentication process. The authentication request messages
must include the ID of the <a href='https://developer.glia.com/authentication-providers'>Authentication provider</a>
selected for authentication.</p>
  <div class='examples'>
    <h3>Examples:</h3>
    <h4>
      
    </h4>
    <pre><code>sm.getApi({version: &#39;v1&#39;}).then(function(salemove) {
  var params = {
    &quot;authentication_provider_id&quot;: &quot;3a596532-c868-4071-befa-3706ecc2c552&quot;,
    &quot;webhooks&quot;:[
      {
        &quot;url&quot;: &quot;https:&#47;&#47;example.com&#47;authentication_request&#47;result&quot;,
        &quot;events&quot;: [&quot;visitor.authentication.success&quot;, &quot;visitor.authentication.failure&quot;],
        &quot;method&quot;: &quot;POST&quot;,
        &quot;headers&quot;: {
          &quot;Authorization&quot;: &quot;Bearer 77aa7777-169a-432a-a87a-23fa5a5a6f7a&quot;
        }
      }
    ]
  };
  salemove.createAuthenticationRequest(params);
});</code></pre>
  </div>
</div>
<div class='tags'>
  <h3>Parameters:</h3>
  <ul class='param'>
    <li>
      <span class='name'>params</span>
      <span class='type'>
        (
          <tt>Object</tt>
        )
      </span>
    </li>
    <li>
      <span class='name'>webhooks</span>
      <span class='type'>
        (
          <tt>Array&lt;Object&gt;</tt>
        )
      </span>
    </li>
  </ul>
  <h3>
    Options Hash:
    (params):
  </h3>
  <ul class='options'>
    <li>
      <span class='name'>authentication_provider_id</span>
      <span class='type'>
        (
          <tt>string</tt>
        )
      </span>
      &mdash;
      <span class='desc'>The ID of the authentication provider. </span>
    </li>
    <li>
      <span class='name'>webhooks</span>
      <span class='type'>
        (
          <tt>Array&lt;Object&gt;</tt>
        )
      </span>
      &mdash;
      <span class='desc'>Optional, array of webhooks. </span>
    </li>
  </ul>
  <h3>
    Options Hash:
    (webhooks):
  </h3>
  <ul class='options'>
    <li>
      <span class='name'>url</span>
      <span class='type'>
        (
          <tt>string</tt>
        )
      </span>
      &mdash;
      <span class='desc'>The URL to which the HTTP request will be sent to. </span>
    </li>
    <li>
      <span class='name'>method</span>
      <span class='type'>
        (
          <tt>string</tt>
        )
      </span>
      &mdash;
      <span class='desc'>The HTTP method that will be used for the request. </span>
    </li>
    <li>
      <span class='name'>headers</span>
      <span class='type'>
        (
          <tt>Object</tt>
        )
      </span>
      &mdash;
      <span class='desc'>The HTTP headers. </span>
    </li>
    <li>
      <span class='name'>events</span>
      <span class='type'>
        (
          <tt>Array&lt;string&gt;</tt>
        )
      </span>
      &mdash;
      <span class='desc'>An array of <a href='https://developer.glia.com/webhooks#events'>Events</a> upon which a HTTP request will be made. There are two events related to the visitor authentication: <code>visitor.authentication.success</code> and <code>visitor.authentication.failure</code> </span>
    </li>
  </ul>
  <h3>Returns:</h3>
  <ul class='return'>
    <li>
      <span class='type'></span>
      (
        <tt>Promise</tt>
      )
      &mdash;
      <span class='desc'>Fulfilled with an empty object or rejected with an <a href='../class/Error.html'>Error</a> if the process fails for any reason. The <a href='../class/Error.html'>Error</a> may have one of the following causes: INVALID_INPUT, TIMEOUT, INTERNAL_ERROR. </span>
    </li>
  </ul>
</div>
  </div>
</div>
      </div>
      <div id='footer'>
  Powered by
  <a href='https://github.com/coffeedoc/codo' title='CoffeeScript API documentation generator'>
    Codo
  </a>
  &#10034;
  Press H to see the keyboard shortcuts
</div>
<iframe id='search_frame'></iframe>
<div id='fuzzySearch'>
  <input type='text'>
  <ol></ol>
</div>
<div id='help'>
  <p>
    Quickly fuzzy find classes, mixins, methods, file:
  </p>
  <ul>
    <li>
      <span>T</span>
      Open fuzzy finder dialog
    </li>
  </ul>
  <p>
    Control the navigation frame:
  </p>
  <ul>
    <li>
      <span>L</span>
      Toggle list view
    </li>
    <li>
      <span>C</span>
      Show class list
    </li>
    <li>
      <span>I</span>
      Show mixin list
    </li>
    <li>
      <span>M</span>
      Show method list
    </li>
    <li>
      <span>E</span>
      Show extras list
    </li>
  </ul>
  <p>
    You can focus and blur the search input:
  </p>
  <ul>
    <li>
      <span>S</span>
      Focus search input
    </li>
    <li>
      <span>Esc</span>
      Blur search input
    </li>
  </ul>
</div>
    </div>
  </body>
</html>